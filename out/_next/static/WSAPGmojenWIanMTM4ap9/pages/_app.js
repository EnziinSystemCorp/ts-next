(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"/0+H":function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(r("q1tI")),s=r("lwAK");function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ampFirst,r=void 0!==t&&t,n=e.hybrid,a=void 0!==n&&n,s=e.hasQuery;return r||a&&(void 0!==s&&s)}t.isInAmpMode=c,t.useAmp=function(){return c(a.default.useContext(s.AmpStateContext))}},"0R0V":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.combineReducers=void 0;var n,a=r("mU/f"),s=(n=a)&&n.__esModule?n:{default:n};t.combineReducers=s.default},1:function(e,t,r){r("74v/"),e.exports=r("nOHt")},"1mXj":function(e,t,r){(function(e){!function(t){"use strict";function r(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function n(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function a(e,t,r){a.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:r,enumerable:!0})}function s(e,t){s.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function c(e,t){c.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function o(e,t,r){o.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:r,enumerable:!0})}function u(e,t,r){var n=e.slice((r||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,n),e}function i(e){var t="undefined"==typeof e?"undefined":w(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function f(e,t,r,n,d,l,p){p=p||[];var h=(d=d||[]).slice(0);if("undefined"!=typeof l){if(n){if("function"==typeof n&&n(h,l))return;if("object"===("undefined"==typeof n?"undefined":w(n))){if(n.prefilter&&n.prefilter(h,l))return;if(n.normalize){var g=n.normalize(h,l,e,t);g&&(e=g[0],t=g[1])}}}h.push(l)}"regexp"===i(e)&&"regexp"===i(t)&&(e=e.toString(),t=t.toString());var v="undefined"==typeof e?"undefined":w(e),x="undefined"==typeof t?"undefined":w(t),m="undefined"!==v||p&&p[p.length-1].lhs&&p[p.length-1].lhs.hasOwnProperty(l),b="undefined"!==x||p&&p[p.length-1].rhs&&p[p.length-1].rhs.hasOwnProperty(l);if(!m&&b)r(new s(h,t));else if(!b&&m)r(new c(h,e));else if(i(e)!==i(t))r(new a(h,e,t));else if("date"===i(e)&&e-t!==0)r(new a(h,e,t));else if("object"===v&&null!==e&&null!==t)if(p.filter((function(t){return t.lhs===e})).length)e!==t&&r(new a(h,e,t));else{if(p.push({lhs:e,rhs:t}),Array.isArray(e)){var E;for(e.length,E=0;E<e.length;E++)E>=t.length?r(new o(h,E,new c(void 0,e[E]))):f(e[E],t[E],r,n,h,E,p);for(;E<t.length;)r(new o(h,E,new s(void 0,t[E++])))}else{var O=Object.keys(e),_=Object.keys(t);O.forEach((function(a,s){var c=_.indexOf(a);c>=0?(f(e[a],t[a],r,n,h,a,p),_=u(_,c)):f(e[a],void 0,r,n,h,a,p)})),_.forEach((function(e){f(void 0,t[e],r,n,h,e,p)}))}p.length=p.length-1}else e!==t&&("number"===v&&isNaN(e)&&isNaN(t)||r(new a(h,e,t)))}function d(e,t,r,n){return n=n||[],f(e,t,(function(e){e&&n.push(e)}),r),n.length?n:void 0}function l(e,t,r){if(e&&t&&r&&r.kind){for(var n=e,a=-1,s=r.path?r.path.length-1:0;++a<s;)"undefined"==typeof n[r.path[a]]&&(n[r.path[a]]="number"==typeof r.path[a]?[]:{}),n=n[r.path[a]];switch(r.kind){case"A":!function e(t,r,n){if(n.path&&n.path.length){var a,s=t[r],c=n.path.length-1;for(a=0;a<c;a++)s=s[n.path[a]];switch(n.kind){case"A":e(s[n.path[a]],n.index,n.item);break;case"D":delete s[n.path[a]];break;case"E":case"N":s[n.path[a]]=n.rhs}}else switch(n.kind){case"A":e(t[r],n.index,n.item);break;case"D":t=u(t,r);break;case"E":case"N":t[r]=n.rhs}return t}(r.path?n[r.path[a]]:n,r.index,r.item);break;case"D":delete n[r.path[a]];break;case"E":case"N":n[r.path[a]]=r.rhs}}}function p(e){return"color: "+S[e].color+"; font-weight: bold"}function h(e,t,r,n){var a=d(e,t);try{n?r.groupCollapsed("diff"):r.group("diff")}catch(e){r.log("diff")}a?a.forEach((function(e){var t=e.kind,n=function(e){var t=e.kind,r=e.path,n=e.lhs,a=e.rhs,s=e.index,c=e.item;switch(t){case"E":return[r.join("."),n,"\u2192",a];case"N":return[r.join("."),a];case"D":return[r.join(".")];case"A":return[r.join(".")+"["+s+"]",c];default:return[]}}(e);r.log.apply(r,["%c "+S[t].text,p(t)].concat(y(n)))})):r.log("\u2014\u2014 no diff \u2014\u2014");try{r.groupEnd()}catch(e){r.log("\u2014\u2014 diff end \u2014\u2014 ")}}function g(e,t,r,n){switch("undefined"==typeof e?"undefined":w(e)){case"object":return"function"==typeof e[n]?e[n].apply(e,y(r)):e[n];case"function":return e(t);default:return e}}function v(e,t){var r=t.logger,n=t.actionTransformer,a=t.titleFormatter,s=void 0===a?function(e){var t=e.timestamp,r=e.duration;return function(e,n,a){var s=["action"];return s.push("%c"+String(e.type)),t&&s.push("%c@ "+n),r&&s.push("%c(in "+a.toFixed(2)+" ms)"),s.join(" ")}}(t):a,c=t.collapsed,o=t.colors,u=t.level,i=t.diff,f="undefined"==typeof t.titleFormatter;e.forEach((function(a,d){var l=a.started,p=a.startedTime,v=a.action,x=a.prevState,m=a.error,b=a.took,E=a.nextState,_=e[d+1];_&&(E=_.prevState,b=_.started-l);var w=n(v),y="function"==typeof c?c((function(){return E}),v,a):c,I=O(p),S=o.title?"color: "+o.title(w)+";":"",A=["color: gray; font-weight: lighter;"];A.push(S),t.timestamp&&A.push("color: gray; font-weight: lighter;"),t.duration&&A.push("color: gray; font-weight: lighter;");var C=s(w,I,b);try{y?o.title&&f?r.groupCollapsed.apply(r,["%c "+C].concat(A)):r.groupCollapsed(C):o.title&&f?r.group.apply(r,["%c "+C].concat(A)):r.group(C)}catch(e){r.log(C)}var T=g(u,w,[x],"prevState"),k=g(u,w,[w],"action"),P=g(u,w,[m,x],"error"),D=g(u,w,[E],"nextState");if(T)if(o.prevState){var R="color: "+o.prevState(x)+"; font-weight: bold";r[T]("%c prev state",R,x)}else r[T]("prev state",x);if(k)if(o.action){var M="color: "+o.action(w)+"; font-weight: bold";r[k]("%c action    ",M,w)}else r[k]("action    ",w);if(m&&P)if(o.error){var L="color: "+o.error(m,x)+"; font-weight: bold;";r[P]("%c error     ",L,m)}else r[P]("error     ",m);if(D)if(o.nextState){var j="color: "+o.nextState(E)+"; font-weight: bold";r[D]("%c next state",j,E)}else r[D]("next state",E);i&&h(x,E,r,y);try{r.groupEnd()}catch(e){r.log("\u2014\u2014 log end \u2014\u2014")}}))}function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},A,e),r=t.logger,n=t.stateTransformer,a=t.errorTransformer,s=t.predicate,c=t.logErrors,o=t.diffPredicate;if("undefined"==typeof r)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var u=[];return function(e){var r=e.getState;return function(e){return function(i){if("function"==typeof s&&!s(r,i))return e(i);var f={};u.push(f),f.started=_.now(),f.startedTime=new Date,f.prevState=n(r()),f.action=i;var d=void 0;if(c)try{d=e(i)}catch(e){f.error=a(e)}else d=e(i);f.took=_.now()-f.started,f.nextState=n(r());var l=t.diff&&"function"==typeof o?o(r,i):t.diff;if(v(u,Object.assign({},t,{diff:l})),u.length=0,f.error)throw f.error;return d}}}}var m,b,E=function(e,t){return function(e,t){return new Array(t+1).join(e)}("0",t-e.toString().length)+e},O=function(e){return E(e.getHours(),2)+":"+E(e.getMinutes(),2)+":"+E(e.getSeconds(),2)+"."+E(e.getMilliseconds(),3)},_="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)},I=[];m="object"===("undefined"==typeof e?"undefined":w(e))&&e?e:"undefined"!=typeof window?window:{},(b=m.DeepDiff)&&I.push((function(){"undefined"!=typeof b&&m.DeepDiff===d&&(m.DeepDiff=b,b=void 0)})),r(a,n),r(s,n),r(c,n),r(o,n),Object.defineProperties(d,{diff:{value:d,enumerable:!0},observableDiff:{value:f,enumerable:!0},applyDiff:{value:function(e,t,r){e&&t&&f(e,t,(function(n){r&&!r(e,t,n)||l(e,t,n)}))},enumerable:!0},applyChange:{value:l,enumerable:!0},revertChange:{value:function(e,t,r){if(e&&t&&r&&r.kind){var n,a,s=e;for(a=r.path.length-1,n=0;n<a;n++)"undefined"==typeof s[r.path[n]]&&(s[r.path[n]]={}),s=s[r.path[n]];switch(r.kind){case"A":!function e(t,r,n){if(n.path&&n.path.length){var a,s=t[r],c=n.path.length-1;for(a=0;a<c;a++)s=s[n.path[a]];switch(n.kind){case"A":e(s[n.path[a]],n.index,n.item);break;case"D":case"E":s[n.path[a]]=n.lhs;break;case"N":delete s[n.path[a]]}}else switch(n.kind){case"A":e(t[r],n.index,n.item);break;case"D":case"E":t[r]=n.lhs;break;case"N":t=u(t,r)}return t}(s[r.path[n]],r.index,r.item);break;case"D":case"E":s[r.path[n]]=r.lhs;break;case"N":delete s[r.path[n]]}}},enumerable:!0},isConflict:{value:function(){return"undefined"!=typeof b},enumerable:!0},noConflict:{value:function(){return I&&(I.forEach((function(e){e()})),I=null),d},enumerable:!0}});var S={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},A={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,r=e.getState;return"function"==typeof t||"function"==typeof r?x()({dispatch:t,getState:r}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};t.defaults=A,t.createLogger=x,t.logger=C,t.default=C,Object.defineProperty(t,"__esModule",{value:!0})}(t)}).call(this,r("yLpj"))},"74v/":function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return r("hUgY")}])},"8Bbg":function(e,t,r){e.exports=r("B5Ud")},"8Kt/":function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(r("q1tI")),s=n(r("Xuae")),c=r("lwAK"),o=r("FYa8"),u=r("/0+H");function i(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[a.default.createElement("meta",{charSet:"utf-8"})];return e||t.push(a.default.createElement("meta",{name:"viewport",content:"width=device-width"})),t}function f(e,t){return"string"===typeof t||"number"===typeof t?e:t.type===a.default.Fragment?e.concat(a.default.Children.toArray(t.props.children).reduce((function(e,t){return"string"===typeof t||"number"===typeof t?e:e.concat(t)}),[])):e.concat(t)}t.defaultHead=i;var d=["name","httpEquiv","charSet","itemProp"];function l(e,t){return e.reduce((function(e,t){var r=a.default.Children.toArray(t.props.children);return e.concat(r)}),[]).reduce(f,[]).reverse().concat(i(t.inAmpMode)).filter(function(){var e=new Set,t=new Set,r=new Set,n={};return function(a){var s=!0;if(a.key&&"number"!==typeof a.key&&a.key.indexOf("$")>0){var c=a.key.slice(a.key.indexOf("$")+1);e.has(c)?s=!1:e.add(c)}switch(a.type){case"title":case"base":t.has(a.type)?s=!1:t.add(a.type);break;case"meta":for(var o=0,u=d.length;o<u;o++){var i=d[o];if(a.props.hasOwnProperty(i))if("charSet"===i)r.has(i)?s=!1:r.add(i);else{var f=a.props[i],l=n[i]||new Set;l.has(f)?s=!1:(l.add(f),n[i]=l)}}}return s}}()).reverse().map((function(e,t){var r=e.key||t;return a.default.cloneElement(e,{key:r})}))}var p=s.default();function h(e){var t=e.children;return a.default.createElement(c.AmpStateContext.Consumer,null,(function(e){return a.default.createElement(o.HeadManagerContext.Consumer,null,(function(r){return a.default.createElement(p,{reduceComponentsToState:l,handleStateChange:r,inAmpMode:u.isInAmpMode(e)},t)}))}))}h.rewind=p.rewind,t.default=h},Aso2:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r("Mpt7")),a=s(r("mhMR"));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,r){var s=Object.keys(t);if(!s.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";var c=(0,a.default)(r);if(n.default.isImmutable?!n.default.isImmutable(e):!n.default.Iterable.isIterable(e))return"The "+c+' is of unexpected type. Expected argument to be an instance of Immutable.Collection or Immutable.Record with the following properties: "'+s.join('", "')+'".';var o=e.toSeq().keySeq().toArray().filter((function(e){return!t.hasOwnProperty(e)}));return o.length>0?"Unexpected "+(1===o.length?"property":"properties")+' "'+o.join('", "')+'" found in '+c+'. Expected to find one of the known reducer property names instead: "'+s.join('", "')+'". Unexpected properties will be ignored.':null},e.exports=t.default},B5Ud:function(e,t,r){"use strict";var n=r("lwsE"),a=r("W8MJ"),s=r("a1gu"),c=r("Nsbk"),o=r("7W2i"),u=r("o0o1"),i=r("TqRt");t.__esModule=!0,t.Container=function(e){0;return e.children},t.createUrl=h,t.default=void 0;var f=i(r("q1tI")),d=r("g/15");function l(e){var t,r,n;return u.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.Component,r=e.ctx,a.next=3,u.awrap((0,d.loadGetInitialProps)(t,r));case 3:return n=a.sent,a.abrupt("return",{pageProps:n});case 5:case"end":return a.stop()}}))}t.AppInitialProps=d.AppInitialProps;var p=function(e){function t(){return n(this,t),s(this,c(t).apply(this,arguments))}return o(t,e),a(t,[{key:"componentDidCatch",value:function(e,t){throw e}},{key:"render",value:function(){var e=this.props,t=e.router,r=e.Component,n=e.pageProps,a=e.__N_SSG,s=e.__N_SSP;return f.default.createElement(r,Object.assign({},n,a||s?{}:{url:h(t)}))}}]),t}(f.default.Component);function h(e){var t=e.pathname,r=e.asPath,n=e.query;return{get query(){return n},get pathname(){return t},get asPath(){return r},back:function(){e.back()},push:function(t,r){return e.push(t,r)},pushTo:function(t,r){var n=r?t:"",a=r||t;return e.push(n,a)},replace:function(t,r){return e.replace(t,r)},replaceTo:function(t,r){var n=r?t:"",a=r||t;return e.replace(n,a)}}}t.default=p,p.origGetInitialProps=l,p.getInitialProps=l},FYa8:function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=n(r("q1tI"));t.HeadManagerContext=a.createContext(null)},"R/WZ":function(e,t,r){"use strict";var n=r("wx14"),a=r("RD7I"),s=r("cNwE");t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(a.a)(e,Object(n.a)({defaultTheme:s.a},t))}},Vl0y:function(e,t,r){},Xuae:function(e,t,r){"use strict";var n=r("lwsE"),a=r("a1gu"),s=r("Nsbk"),c=r("PJYZ"),o=r("W8MJ"),u=r("7W2i"),i=r("RIqP");Object.defineProperty(t,"__esModule",{value:!0});var f=r("q1tI"),d=!1;t.default=function(){var e,t=new Set;function r(r){e=r.props.reduceComponentsToState(i(t),r.props),r.props.handleStateChange&&r.props.handleStateChange(e)}return function(i){function f(e){var o;return n(this,f),o=a(this,s(f).call(this,e)),d&&(t.add(c(o)),r(c(o))),o}return u(f,i),o(f,null,[{key:"rewind",value:function(){var r=e;return e=void 0,t.clear(),r}}]),o(f,[{key:"componentDidMount",value:function(){t.add(this),r(this)}},{key:"componentDidUpdate",value:function(){r(this)}},{key:"componentWillUnmount",value:function(){t.delete(this),r(this)}},{key:"render",value:function(){return null}}]),f}(f.Component)}},YQfW:function(e,t,r){},hUgY:function(e,t,r){"use strict";r.r(t);var n=r("o0o1"),a=r.n(n),s=r("rePB"),c=r("1OyB"),o=r("vuIU"),u=r("md7G"),i=r("foSv"),f=r("Ji7U"),d=r("q1tI"),l=r.n(d),p=r("v6U8"),h=r("8Bbg"),g=r.n(h),v=r("8Kt/"),x=r.n(v),m=r("bWLx"),b=r("wx14"),E=(r("17x9"),r("R/WZ")),O=Object(E.a)((function(e){return{"@global":{html:{WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box"},"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:"bolder"},body:Object(b.a)({margin:0,color:e.palette.text.primary},e.typography.body2,{backgroundColor:e.palette.background.default,"@media print":{backgroundColor:e.palette.common.white},"&::backdrop":{backgroundColor:e.palette.background.default}})}}}),{name:"MuiCssBaseline"});var _=function(e){var t=e.children,r=void 0===t?null:t;return O(),l.a.createElement(l.a.Fragment,null,r)},w=(r("YQfW"),r("1fcv")),y=r("viY9"),I=r("dl/7"),S=Object(y.a)({palette:{primary:{main:"#556cd6"},secondary:{main:"#19857b"},error:{main:I.a.A400},background:{default:"#fff"}}}),A=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),C=function(){return(C=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},T=function(e,t,r,n){return new(r||(r=Promise))((function(a,s){function c(e){try{u(n.next(e))}catch(t){s(t)}}function o(e){try{u(n.throw(e))}catch(t){s(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(c,o)}u((n=n.apply(e,t||[])).next())}))},k=function(e,t){var r,n,a,s,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,n&&(a=2&s[0]?n.return:s[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,s[1])).done)return a;switch(n=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return c.label++,{value:s[1],done:!1};case 5:c.label++,n=s[1],s=[0];continue;case 7:s=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===s[0]||2===s[0])){c=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){c.label=s[1];break}if(6===s[0]&&c.label<a[1]){c.label=a[1],a=s;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(s);break}a[2]&&c.ops.pop(),c.trys.pop();continue}s=t.call(e,c)}catch(o){s=[6,o],n=0}finally{r=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}},P=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},D={storeKey:"__NEXT_REDUX_STORE__",debug:!1,serializeState:function(e){return e},deserializeState:function(e){return e}},R=r("/MKj"),M=r("Mpt7"),L=r("BOF4"),j=r.n(L),U=r("ANjH"),N=r("1mXj"),F=function(e){return"@@redux-saga/"+e},q=F("CANCEL_PROMISE"),G=F("CHANNEL_END"),H=F("IO"),B=F("MATCH"),V=F("MULTICAST"),K=F("SAGA_ACTION"),Y=F("SELF_CANCELLATION"),W=F("TASK"),Q=F("TASK_CANCEL"),z=F("TERMINATE"),J=F("LOCATION"),X=r("zLVn"),Z=function(e){return null===e||void 0===e},$=function(e){return null!==e&&void 0!==e},ee=function(e){return"function"===typeof e},te=function(e){return"string"===typeof e},re=Array.isArray,ne=function(e){return e&&ee(e.then)},ae=function(e){return e&&ee(e.next)&&ee(e.throw)},se=function e(t){return t&&(te(t)||ue(t)||ee(t)||re(t)&&t.every(e))},ce=function(e){return e&&ee(e.take)&&ee(e.close)},oe=function(e){return ee(e)&&e.hasOwnProperty("toString")},ue=function(e){return Boolean(e)&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype},ie=function(e){return ce(e)&&e[V]};var fe=function(e){return function(){return e}}(!0),de=function(){};var le=function(e){return e};"function"===typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;var pe=function(e,t){Object(b.a)(e,t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach((function(r){e[r]=t[r]}))},he=function(e,t){var r;return(r=[]).concat.apply(r,t.map(e))};function ge(e,t){var r=e.indexOf(t);r>=0&&e.splice(r,1)}function ve(e){var t=!1;return function(){t||(t=!0,e())}}var xe=function(e){throw e},me=function(e){return{value:e,done:!0}};function be(e,t,r){void 0===t&&(t=xe),void 0===r&&(r="iterator");var n={meta:{name:r},next:e,throw:t,return:me,isSagaIterator:!0};return"undefined"!==typeof Symbol&&(n[Symbol.iterator]=function(){return n}),n}function Ee(e,t){var r=t.sagaStack;console.error(e),console.error(r)}var Oe=function(e){return Array.apply(null,new Array(e))},_e=function(e){return function(t){return e(Object.defineProperty(t,K,{value:!0}))}},we=function(e){return e===z},ye=function(e){return e===Q},Ie=function(e){return we(e)||ye(e)};function Se(e,t){var r=Object.keys(e),n=r.length;var a,s=0,c=re(e)?Oe(n):{},o={};return r.forEach((function(e){var r=function(r,o){a||(o||Ie(r)?(t.cancel(),t(r,o)):(c[e]=r,++s===n&&(a=!0,t(c))))};r.cancel=de,o[e]=r})),t.cancel=function(){a||(a=!0,r.forEach((function(e){return o[e].cancel()})))},o}function Ae(e){return{name:e.name||"anonymous",location:Ce(e)}}function Ce(e){return e[J]}var Te="Channel's Buffer overflow!",ke=1,Pe=3,De=4,Re={isEmpty:fe,put:de,take:de};function Me(e,t){void 0===e&&(e=10);var r=new Array(e),n=0,a=0,s=0,c=function(t){r[a]=t,a=(a+1)%e,n++},o=function(){if(0!=n){var t=r[s];return r[s]=null,n--,s=(s+1)%e,t}},u=function(){for(var e=[];n;)e.push(o());return e};return{isEmpty:function(){return 0==n},put:function(o){var i;if(n<e)c(o);else switch(t){case ke:throw new Error(Te);case Pe:r[a]=o,s=a=(a+1)%e;break;case De:i=2*e,r=u(),n=r.length,a=r.length,s=0,r.length=i,e=i,c(o)}},take:o,flush:u}}var Le=function(){return Re},je=function(e){return Me(e,De)},Ue="TAKE",Ne="PUT",Fe="ALL",qe="RACE",Ge="CALL",He="CPS",Be="FORK",Ve="JOIN",Ke="CANCEL",Ye="SELECT",We="ACTION_CHANNEL",Qe="CANCELLED",ze="FLUSH",Je="GET_CONTEXT",Xe="SET_CONTEXT",Ze=function(e,t){var r;return(r={})[H]=!0,r.combinator=!1,r.type=e,r.payload=t,r};function $e(e,t){return void 0===e&&(e="*"),se(e)?Ze(Ue,{pattern:e}):ie(e)&&$(t)&&se(t)?Ze(Ue,{channel:e,pattern:t}):ce(e)?Ze(Ue,{channel:e}):void 0}function et(e,t){return Z(t)&&(t=e,e=void 0),Ze(Ne,{channel:e,action:t})}function tt(e){var t=Ze(Fe,e);return t.combinator=!0,t}function rt(e,t){var r,n=null;return ee(e)?r=e:(re(e)?(n=e[0],r=e[1]):(n=e.context,r=e.fn),n&&te(r)&&ee(n[r])&&(r=n[r])),{context:n,fn:r,args:t}}function nt(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Ze(Ge,rt(e,r))}function at(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Ze(Be,rt(e,r))}function st(e){void 0===e&&(e=le);for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Ze(Ye,{selector:e,args:r})}function ct(){return Ze(Qe,{})}function ot(){var e={};return e.promise=new Promise((function(t,r){e.resolve=t,e.reject=r})),e}var ut=ot,it=[],ft=0;function dt(e){try{ht(),e()}finally{gt()}}function lt(e){it.push(e),ft||(ht(),vt())}function pt(e){try{return ht(),e()}finally{vt()}}function ht(){ft++}function gt(){ft--}function vt(){var e;for(gt();!ft&&void 0!==(e=it.shift());)dt(e)}var xt=function(e){return function(t){return e.some((function(e){return _t(e)(t)}))}},mt=function(e){return function(t){return e(t)}},bt=function(e){return function(t){return t.type===String(e)}},Et=function(e){return function(t){return t.type===e}},Ot=function(){return fe};function _t(e){var t="*"===e?Ot:te(e)?bt:re(e)?xt:oe(e)?bt:ee(e)?mt:ue(e)?Et:null;if(null===t)throw new Error("invalid pattern: "+e);return t(e)}var wt={type:G},yt=function(e){return e&&e.type===G};function It(e){void 0===e&&(e=je());var t=!1,r=[];return{take:function(n){t&&e.isEmpty()?n(wt):e.isEmpty()?(r.push(n),n.cancel=function(){ge(r,n)}):n(e.take())},put:function(n){if(!t){if(0===r.length)return e.put(n);r.shift()(n)}},flush:function(r){t&&e.isEmpty()?r(wt):r(e.flush())},close:function(){if(!t){t=!0;var e=r;r=[];for(var n=0,a=e.length;n<a;n++){(0,e[n])(wt)}}}}}function St(e,t){void 0===t&&(t=Le());var r,n=!1,a=It(t),s=function(){n||(n=!0,ee(r)&&r(),a.close())};return r=ve(r=e((function(e){yt(e)?s():a.put(e)}))),n&&r(),{take:a.take,flush:a.flush,close:s}}function At(){var e=function(){var e,t=!1,r=[],n=r,a=function(){n===r&&(n=r.slice())},s=function(){t=!0;var e=r=n;n=[],e.forEach((function(e){e(wt)}))};return(e={})[V]=!0,e.put=function(e){if(!t)if(yt(e))s();else for(var a=r=n,c=0,o=a.length;c<o;c++){var u=a[c];u[B](e)&&(u.cancel(),u(e))}},e.take=function(e,r){void 0===r&&(r=Ot),t?e(wt):(e[B]=r,a(),n.push(e),e.cancel=ve((function(){a(),ge(n,e)})))},e.close=s,e}(),t=e.put;return e.put=function(e){e[K]?t(e):lt((function(){t(e)}))},e}var Ct=0,Tt=1,kt=2,Pt=3;function Dt(e,t){var r=e[q];ee(r)&&(t.cancel=r),e.then(t,(function(e){t(e,!0)}))}var Rt,Mt=0,Lt=function(){return++Mt};function jt(e){e.isRunning()&&e.cancel()}var Ut=((Rt={})[Ue]=function(e,t,r){var n=t.channel,a=void 0===n?e.channel:n,s=t.pattern,c=t.maybe,o=function(e){e instanceof Error?r(e,!0):!yt(e)||c?r(e):r(z)};try{a.take(o,$(s)?_t(s):null)}catch(u){return void r(u,!0)}r.cancel=o.cancel},Rt[Ne]=function(e,t,r){var n=t.channel,a=t.action,s=t.resolve;lt((function(){var t;try{t=(n?n.put:e.dispatch)(a)}catch(c){return void r(c,!0)}s&&ne(t)?Dt(t,r):r(t)}))},Rt[Fe]=function(e,t,r,n){var a=n.digestEffect,s=Mt,c=Object.keys(t);if(0!==c.length){var o=Se(t,r);c.forEach((function(e){a(t[e],s,o[e],e)}))}else r(re(t)?[]:{})},Rt[qe]=function(e,t,r,n){var a=n.digestEffect,s=Mt,c=Object.keys(t),o=re(t)?Oe(c.length):{},u={},i=!1;c.forEach((function(e){var t=function(t,n){i||(n||Ie(t)?(r.cancel(),r(t,n)):(r.cancel(),i=!0,o[e]=t,r(o)))};t.cancel=de,u[e]=t})),r.cancel=function(){i||(i=!0,c.forEach((function(e){return u[e].cancel()})))},c.forEach((function(e){i||a(t[e],s,u[e],e)}))},Rt[Ge]=function(e,t,r,n){var a=t.context,s=t.fn,c=t.args,o=n.task;try{var u=s.apply(a,c);if(ne(u))return void Dt(u,r);if(ae(u))return void Qt(e,u,o.context,Mt,Ae(s),!1,r);r(u)}catch(i){r(i,!0)}},Rt[He]=function(e,t,r){var n=t.context,a=t.fn,s=t.args;try{var c=function(e,t){Z(e)?r(t):r(e,!0)};a.apply(n,s.concat(c)),c.cancel&&(r.cancel=c.cancel)}catch(o){r(o,!0)}},Rt[Be]=function(e,t,r,n){var a=t.context,s=t.fn,c=t.args,o=t.detached,u=n.task,i=function(e){var t=e.context,r=e.fn,n=e.args;try{var a=r.apply(t,n);if(ae(a))return a;var s=!1;return be((function(e){return s?{value:e,done:!0}:(s=!0,{value:a,done:!ne(a)})}))}catch(c){return be((function(){throw c}))}}({context:a,fn:s,args:c}),f=function(e,t){return e.isSagaIterator?{name:e.meta.name}:Ae(t)}(i,s);pt((function(){var t=Qt(e,i,u.context,Mt,f,o,void 0);o?r(t):t.isRunning()?(u.queue.addTask(t),r(t)):t.isAborted()?u.queue.abort(t.error()):r(t)}))},Rt[Ve]=function(e,t,r,n){var a=n.task,s=function(e,t){if(e.isRunning()){var r={task:a,cb:t};t.cancel=function(){e.isRunning()&&ge(e.joiners,r)},e.joiners.push(r)}else e.isAborted()?t(e.error(),!0):t(e.result())};if(re(t)){if(0===t.length)return void r([]);var c=Se(t,r);t.forEach((function(e,t){s(e,c[t])}))}else s(t,r)},Rt[Ke]=function(e,t,r,n){var a=n.task;t===Y?jt(a):re(t)?t.forEach(jt):jt(t),r()},Rt[Ye]=function(e,t,r){var n=t.selector,a=t.args;try{r(n.apply(void 0,[e.getState()].concat(a)))}catch(s){r(s,!0)}},Rt[We]=function(e,t,r){var n=t.pattern,a=It(t.buffer),s=_t(n),c=function t(r){yt(r)||e.channel.take(t,s),a.put(r)},o=a.close;a.close=function(){c.cancel(),o()},e.channel.take(c,s),r(a)},Rt[Qe]=function(e,t,r,n){r(n.task.isCancelled())},Rt[ze]=function(e,t,r){t.flush(r)},Rt[Je]=function(e,t,r,n){r(n.task.context[t])},Rt[Xe]=function(e,t,r,n){var a=n.task;pe(a.context,t),r()},Rt);function Nt(e,t){return e+"?"+t}function Ft(e){var t=e.name,r=e.location;return r?t+"  "+Nt(r.fileName,r.lineNumber):t}function qt(e){var t=he((function(e){return e.cancelledTasks}),e);return t.length?["Tasks cancelled due to error:"].concat(t).join("\n"):""}var Gt=null,Ht=[],Bt=function(e){e.crashedEffect=Gt,Ht.push(e)},Vt=function(){Gt=null,Ht.length=0},Kt=function(e){Gt=e},Yt=function(){var e=Ht[0],t=Ht.slice(1),r=e.crashedEffect?function(e){var t=Ce(e);return t?t.code+"  "+Nt(t.fileName,t.lineNumber):""}(e.crashedEffect):null;return["The above error occurred in task "+Ft(e.meta)+(r?" \n when executing effect "+r:"")].concat(t.map((function(e){return"    created by "+Ft(e.meta)})),[qt(Ht)]).join("\n")};function Wt(e,t,r,n,a,s,c){var o;void 0===c&&(c=de);var u,i,f=Ct,d=null,l=[],p=Object.create(r),h=function(e,t,r){var n,a=[],s=!1;function c(e){t(),u(),r(e,!0)}function o(t){a.push(t),t.cont=function(o,u){s||(ge(a,t),t.cont=de,u?c(o):(t===e&&(n=o),a.length||(s=!0,r(n))))}}function u(){s||(s=!0,a.forEach((function(e){e.cont=de,e.cancel()})),a=[])}return o(e),{addTask:o,cancelAll:u,abort:c,getTasks:function(){return a}}}(t,(function(){l.push.apply(l,h.getTasks().map((function(e){return e.meta.name})))}),g);function g(t,r){if(r){if(f=kt,Bt({meta:a,cancelledTasks:l}),v.isRoot){var n=Yt();Vt(),e.onError(t,{sagaStack:n})}i=t,d&&d.reject(t)}else t===Q?f=Tt:f!==Tt&&(f=Pt),u=t,d&&d.resolve(t);v.cont(t,r),v.joiners.forEach((function(e){e.cb(t,r)})),v.joiners=null}var v=((o={})[W]=!0,o.id=n,o.meta=a,o.isRoot=s,o.context=p,o.joiners=[],o.queue=h,o.cancel=function(){f===Ct&&(f=Tt,h.cancelAll(),g(Q,!1))},o.cont=c,o.end=g,o.setContext=function(e){pe(p,e)},o.toPromise=function(){return d?d.promise:(d=ut(),f===kt?d.reject(i):f!==Ct&&d.resolve(u),d.promise)},o.isRunning=function(){return f===Ct},o.isCancelled=function(){return f===Tt||f===Ct&&t.status===Tt},o.isAborted=function(){return f===kt},o.result=function(){return u},o.error=function(){return i},o);return v}function Qt(e,t,r,n,a,s,c){var o=e.finalizeRunEffect((function(t,r,n){if(ne(t))Dt(t,n);else if(ae(t))Qt(e,t,i.context,r,a,!1,n);else if(t&&t[H]){(0,Ut[t.type])(e,t.payload,n,f)}else n(t)}));d.cancel=de;var u={meta:a,cancel:function(){u.status===Ct&&(u.status=Tt,d(Q))},status:Ct},i=Wt(e,u,r,n,a,s,c),f={task:i,digestEffect:l};return c&&(c.cancel=i.cancel),d(),i;function d(e,r){try{var a;r?(a=t.throw(e),Vt()):ye(e)?(u.status=Tt,d.cancel(),a=ee(t.return)?t.return(Q):{done:!0,value:Q}):a=we(e)?ee(t.return)?t.return():{done:!0}:t.next(e),a.done?(u.status!==Tt&&(u.status=Pt),u.cont(a.value)):l(a.value,n,d)}catch(s){if(u.status===Tt)throw s;u.status=kt,u.cont(s,!0)}}function l(t,r,n,a){void 0===a&&(a="");var s,c=Lt();function u(r,a){s||(s=!0,n.cancel=de,e.sagaMonitor&&(a?e.sagaMonitor.effectRejected(c,r):e.sagaMonitor.effectResolved(c,r)),a&&Kt(t),n(r,a))}e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:c,parentEffectId:r,label:a,effect:t}),u.cancel=de,n.cancel=function(){s||(s=!0,u.cancel(),u.cancel=de,e.sagaMonitor&&e.sagaMonitor.effectCancelled(c))},o(t,c,u)}}function zt(e,t){var r=e.channel,n=void 0===r?At():r,a=e.dispatch,s=e.getState,c=e.context,o=void 0===c?{}:c,u=e.sagaMonitor,i=e.effectMiddlewares,f=e.onError,d=void 0===f?Ee:f;for(var l=arguments.length,p=new Array(l>2?l-2:0),h=2;h<l;h++)p[h-2]=arguments[h];var g=t.apply(void 0,p);var v,x=Lt();if(u&&(u.rootSagaStarted=u.rootSagaStarted||de,u.effectTriggered=u.effectTriggered||de,u.effectResolved=u.effectResolved||de,u.effectRejected=u.effectRejected||de,u.effectCancelled=u.effectCancelled||de,u.actionDispatched=u.actionDispatched||de,u.rootSagaStarted({effectId:x,saga:t,args:p})),i){var m=U.c.apply(void 0,i);v=function(e){return function(t,r,n){return m((function(t){return e(t,r,n)}))(t)}}}else v=le;var b={channel:n,dispatch:_e(a),getState:s,sagaMonitor:u,onError:d,finalizeRunEffect:v};return pt((function(){var e=Qt(b,g,o,x,Ae(t),!0,void 0);return u&&u.effectResolved(x,e),e}))}var Jt=function(e){var t,r=void 0===e?{}:e,n=r.context,a=void 0===n?{}:n,s=r.channel,c=void 0===s?At():s,o=r.sagaMonitor,u=Object(X.a)(r,["context","channel","sagaMonitor"]);function i(e){var r=e.getState,n=e.dispatch;return t=zt.bind(null,Object(b.a)({},u,{context:a,channel:c,dispatch:n,getState:r,sagaMonitor:o})),function(e){return function(t){o&&o.actionDispatched&&o.actionDispatched(t);var r=e(t);return c.put(t),r}}}return i.run=function(){return t.apply(void 0,arguments)},i.setContext=function(e){pe(a,e)},i};function Xt(e){return function(t){var r=t.dispatch,n=t.getState;return function(t){return function(a){return"function"===typeof a?a(r,n,e):t(a)}}}}var Zt=Xt();Zt.withExtraArgument=Xt;var $t=Zt,er=r("0R0V"),tr=r("MJWz"),rr=r("S/6i"),nr=function e(){Object(c.a)(this,e),this.userTies=Object(M.Map)({}),this.userTieds=Object(M.Map)({}),this.circleList=Object(M.Map)({}),this.selectCircleStatus=void 0,this.followingLoadingStatus=void 0,this.selectedCircles=Object(M.Map)({}),this.openSelecteCircles=void 0,this.loaded=!1,this.openSetting=void 0},ar=function(e,t){var r=t.circle;return e.setIn(["circleList",r.get("id")],t.circle)},sr=function(e,t){var r=t.circle;return e.setIn(["openSetting",r.get("id")],!1).setIn(["circleList",r.get("id")],t.circle)},cr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(M.Map)(new nr),t=arguments.length>1?arguments[1]:void 0,r=t.payload;switch(t.type){case rr.a.CLEAR_ALL_CIRCLES:return Object(M.Map)(new nr);case rr.a.ADD_CIRCLE:return ar(e,r);case rr.a.UPDATE_CIRCLE:return sr(e,r);case rr.a.DELETE_CIRCLE:return e.deleteIn(["circleList",r.circleId]);case rr.a.ADD_LIST_CIRCLE:return e.set("loaded",!0).mergeIn(["circleList"],r.circleList);case rr.a.ADD_FOLLOWING_USER:var n=r.userTie;return e.setIn(["userTies",n.get("userId")],r.userTie).setIn(["selectedCircles",n.get("userId")],n.get("circleIdList"));case rr.a.UPDATE_USER_TIE:return e.setIn(["userTies",r.userTie.user.userId],r.userTie);case rr.a.ADD_USER_TIE_LIST:return e.mergeIn(["userTies"],r.userTies).set("selectedCircles",or(r.userTies));case rr.a.ADD_USER_TIED_LIST:return e.mergeIn(["userTieds"],r.userTieds);case rr.a.DELETE_USER_FROM_CIRCLE:return e.deleteIn(["userTies",r.userTie.user.userId,"circleIdList",r.circleId]);case rr.a.DELETE_FOLLOWING_USER:return e.deleteIn(["userTies",r.userId]).deleteIn(["selectedCircles",r.userId]);case rr.a.CLOSE_CIRCLE_SETTINGS:return e.setIn(["openSetting",r.circleId],!1);case rr.a.OPEN_CIRCLE_SETTINGS:return e.setIn(["openSetting",r.circleId],!0);case rr.a.SHOW_SELECT_CIRCLE_BOX:return e.setIn(["selectCircleStatus",r.userId],!0);case rr.a.HIDE_SELECT_CIRCLE_BOX:return e.setIn(["selectCircleStatus",r.userId],!1);case rr.a.SHOW_FOLLOWING_USER_LOADING:return e.setIn(["followingLoadingStatus",r.userId],!0);case rr.a.HIDE_FOLLOWING_USER_LOADING:return e.setIn(["followingLoadingStatus",r.userId],!1);case rr.a.SET_SELECTED_CIRCLES_USER_BOX_COMPONENT:return e.setIn(["selectedCircles",r.userId],r.circleList);case rr.a.REMOVE_SELECTED_CIRCLES_USER_BOX_COMPONENT:return e.setIn(["selectedCircles",r.userId],[]);case rr.a.OPEN_SELECT_CIRCLES_USER_BOX_COMPONENT:return e.setIn(["ui","openSelecteCircles",r.userId],!0);case rr.a.CLOSE_SELECT_CIRCLES_USER_BOX_COMPONENT:return e.setIn(["ui","openSelecteCircles",r.userId],!1);default:return e}},or=function(e){if(e.isEmpty())return Object(M.Map)({});var t=Object(M.Map)({});return e.forEach((function(e){t=t.set(e.get("userId"),e.get("circleIdList"))})),t},ur=r("74S3"),ir=function e(){Object(c.a)(this,e),this.postComments=Object(M.Map)({}),this.editorStatus=Object(M.Map)({}),this.loaded=!1},fr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(M.Map)(new ir),t=arguments.length>1?arguments[1]:void 0,r=t.payload;switch(t.type){case ur.a.ADD_COMMENT:return e.setIn(["postComments",r.get("postId"),r.get("id")],r);case ur.a.ADD_COMMENT_LIST:return e.mergeIn(["postComments",r.postId],r.entities).set("loaded",!0);case ur.a.UPDATE_COMMENT:var n=r.comment;return e.updateIn(["postComments",n.get("postId"),n.get("id"),"text"],(function(e){return n.get("text")}));case ur.a.DELETE_COMMENT:return e.deleteIn(["postComments",r.postId,r.id]);case ur.a.CLOSE_COMMENT_EDITOR:return e.setIn(["editorStatus",r.postId,r.id],!1);case ur.a.OPEN_COMMENT_EDITOR:return e.setIn(["editorStatus",r.postId,r.id],!0);case ur.a.HAS_MORE_COMMENTS:return e.setIn(["ui","posts",r.postId,"hasMoreData"],!0);case ur.a.NO_MORE_COMMENTS:return e.setIn(["ui","posts",r.postId,"hasMoreData"],!1);case ur.a.CLEAR_ALL_DATA_COMMENT:return Object(M.Map)(new ir);default:return e}},dr=r("iWzc"),lr=function e(){Object(c.a)(this,e),this.progress=Object(M.Map)({percent:0,visible:!1}),this.loadingStatus=!0,this.sendFeedbackStatus=!1,this.defaultLoadDataStatus=!1,this.messageOpen=!1,this.message="",this.windowWidth=0,this.windowHeight=0,this.headerTitle="",this.showTopLoading=!1,this.topLoadingQueue=0,this.showMasterLoading=!0,this.masterLoadingQueue=0,this.temp=Object(M.Map)({caller:Object(M.List)()})},pr=function(e,t){return e.setIn(["progress","percent"],t.percent).setIn(["progress","visible"],t.visible)},hr=function(e,t){return e.setIn(["progress",t.progressKey,"percent"],t.percent).setIn(["progress",t.progressKey,"visible"],t.visible).setIn(["progress",t.progressKey,"meta"],t.meta)},gr=function(e,t){var r=t.payload.message;return e.set("message",r).set("messageOpen",!0)},vr=function(e,t){var r=t.payload,n=r.refrenceKey,a=r.message;return n&&void 0!==n&&null!==n?e.setIn(["messageByRef",n],a).setIn(["messageByRefeOpen",n],!0):e},xr=function(e,t){return e.set("message","").set("messageOpen",!1)},mr=function(e,t){var r=t.payload.refrenceKey;return r&&void 0!==r&&null!==r?e.setIn(["messageByRef",r],"").setIn(["messageByRefeOpen",r],!1):e},br=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(M.Map)(new lr),t=arguments.length>1?arguments[1]:void 0,r=t.payload;switch(t.type){case dr.a.PROGRESS_CHANGE:return pr(e,r);case dr.a.PROGRESS_CHANGE_WITH_KEY:return hr(e,r);case dr.a.DEFAULT_DATA_DISABLE:return e.set("defaultLoadDataStatus",!1);case dr.a.DEFAULT_DATA_ENABLE:return e.set("defaultLoadDataStatus",!0);case dr.a.SHOW_MESSAGE_GLOBAL:return gr(e,t);case dr.a.HIDE_MESSAGE_GLOBAL:return xr(e);case dr.a.SHOW_MESSAGE_BY_REFERENCE:return vr(e,t);case dr.a.HIDE_MESSAG_BY_REFERENCE:return mr(e,t);case dr.a.SET_HEADER_TITLE:return e.set("headerTitle",t.payload);case dr.a.OPEN_DIALOG:return e.setIn(["dialog",t.payload.type,"open"],!0);case dr.a.CLOSE_DIALOG:return e.setIn(["dialog",t.payload.type,"open"],!1);case dr.a.SHOW_SEND_FEEDBACK:return e.set("sendFeedbackStatus",!0);case dr.a.HIDE_SEND_FEEDBACK:return e.set("sendFeedbackStatus",!1);case dr.a.HIDE_TOP_LOADING:var n=Number(e.get("topLoadingQueue"))>0?Number(e.get("topLoadingQueue"))-1:0;return e.set("topLoadingQueue",n).set("showTopLoading",n>0);case dr.a.SHOW_TOP_LOADING:return e.set("topLoadingQueue",Number(e.get("topLoadingQueue"))+1).set("showTopLoading",!0);case dr.a.HIDE_MASTER_LOADING:var a=Number(e.get("masterLoadingQueue"))>0?Number(e.get("masterLoadingQueue"))-1:0;return e.set("masterLoadingQueue",a).set("showMasterLoading",a>0);case dr.a.SHOW_MASTER_LOADING:return e.set("masterLoadingQueue",Number(e.get("masterLoadingQueue"))+1).set("showMasterLoading",!0);case dr.a.TEMP:return e.mergeIn(["temp","caller"],Object(M.fromJS)([r.caller]));case dr.a.CLEAR_ALL_GLOBAL:return e.set("sendFeedbackStatus",!1);default:return e}},Er=r("pGmm"),Or=function e(){Object(c.a)(this,e),this.status=!1,this.images=Object(M.List)(),this.selectImage="",this.selectURL="",this.loaded=!1,this.imageURLList={},this.imageRequests={}},_r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(M.Map)(new Or),t=arguments.length>1?arguments[1]:void 0,r=t.payload;switch(t.type){case Er.a.ADD_IMAGE:return e.setIn(["entities",r.image.get("id")],r.image);case Er.a.ADD_IMAGE_LIST:return e.mergeDeepIn(["entities"],r.entities).set("loaded",!0);case Er.a.ADD_ALBUM_IMAGE_LIST:return e.mergeDeepIn(["album",r.albumId,"list"],r.imageIds).set("loaded",!0);case Er.a.ADD_AVATAR_IMAGE_LIST:return e.mergeDeepIn(["avatar",r.userId,"list"],r.imageIds).set("loaded",!0);case Er.a.ADD_COVER_IMAGE_LIST:return e.mergeDeepIn(["cover",r.userId,"list"],r.imageIds).set("loaded",!0);case Er.a.HAS_MORE_DATA_ALBUM_IMAGE:return e.setIn(["album",r.albumId,"hasMoreData"],!0);case Er.a.NO_MORE_DATA_ALBUM_IMAGE:return e.setIn(["album",r.albumId,"hasMoreData"],!1);case Er.a.LAST_ALBUM_IMAGE_ID:return e.setIn(["album",r.albumId,"lastImageId"],r.imageId);case Er.a.ADD_ALBUM_ID_LIST:return e.mergeDeepIn(["album-todo","entities"],r.entities).set("loaded",!0);case Er.a.DELETE_IMAGE:return e.deleteIn(["entities",r.imageId]);case Er.a.SET_IMAGE_URL:return e.setIn(["imageURLList",r.name],r.url);case Er.a.ADD_VIDEO_GALLERY:return e.update("videos",(function(e){return e.push(r)}));case Er.a.ADD_VIDEO_LIST_GALLERY:return e.set("videos",Object(M.List)(r)).set("loaded",!0);case Er.a.DELETE_VIDEO:return e.update("videos",(function(e){return e.filter((function(e){return e.id!==r}))}));case Er.a.SEND_IMAGE_REQUEST:return e.mergeIn(["imageRequests"],r);case Er.a.CLEAT_ALL_DATA_IMAGE_GALLERY:return Object(M.Map)(new Or);default:return e}},wr=r("2DRU"),yr=function e(){Object(c.a)(this,e),this.userNotifies=Object(M.Map)({}),this.loaded=!1};function Ir(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Sr=function(e,t){var r=Object(M.Map)({});return Object.keys(t).forEach((function(e){r=r.set(e,Object(M.Map)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ir(r,!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ir(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t[e])))})),e.mergeIn(["userNotifies"],r).set("loaded",!0)},Ar=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(M.Map)(new yr),t=arguments.length>1?arguments[1]:void 0,r=t.payload;switch(t.type){case wr.a.ADD_NOTIFY:return e;case wr.a.ADD_NOTIFY_LIST:return e.set("userNotifies",r).set("loaded",!0);case wr.a.ADD_PLAIN_NOTIFY_LIST:var n=Sr(e,r);return n;case wr.a.SEEN_NOTIFY:return e.setIn(["userNotifies",r,"isSeen"],!0).set("loaded",!0);case wr.a.DELETE_NOTIFY:return e.deleteIn(["userNotifies",r]);case wr.a.CLEAR_ALL_DATA_NOTIFY:return Object(M.Map)(new yr);default:return e}},Cr=r("88BT"),Tr=r("EjcM");function kr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kr(r,!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kr(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Dr,Rr,Mr,Lr=(Dr=function(e,t){console.log("redux-cache: %s: %s",e,t.join(", ")||"none found")},Rr=function(e){for(var t,r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];(t=console).log.apply(t,["redux-cache: ".concat(e)].concat(n))},function(e,t,r){var n=r.log,a=void 0!==n&&n,c=r.cacheKey,o=void 0===c?"cacheUntil":c,u=Pr({},t),i=Object.keys(u),f=e.filter((function(e){var t=-1!==i.indexOf(e);return!t&&a&&Rr("Did not match %s reducer to the state tree",e),t}));a&&Dr("matchedReducers",f);var d=f.filter((function(e){return u&&u[e]&&u[e][o]}));a&&Dr("cacheEnabledReducers",d);var l=d.reduce((function(e,t){return Pr({},e,Object(s.a)({},t,Pr({},e[t],Object(s.a)({},o,null))))}),u);return a&&(d.length>0?Rr("Set %s to null for following reducers: %s",o,d.join(", ")):Rr("No cached reducers to update")),l}),jr=(Mr=function(e,t){return function(r,n){var a=e(r,n);if("@@redux-cache/INVALIDATE_CACHE"!==n.type)return a;var s=n.payload&&n.payload.reducers||[];return Lr(s,a,t)}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6e5;return Date.now()+e}),Ur=function e(){Object(c.a)(this,e),this.info=Object(M.Map)({}),this.loaded=!1,this.openEditProfile=!1,this.people=Object(M.Map)({hasMoreData:!0,lastPageRequest:0,lastUserId:""})};function Nr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nr(r,!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nr(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var qr=function(e,t){var r=t.payload,n=t.meta;return n&&n.overwrite?e.setIn(["search","list"],r.userIds):e.mergeIn(["search","list"],r.userIds)},Gr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(M.Map)(Fr({},new Ur,Object(s.a)({},"cacheUntil",null))),t=arguments.length>1?arguments[1]:void 0,r=t.payload;switch(t.type){case Tr.a.SET_USER_SEARCH_KEY:return e.set("searchKey",r.searchKey);case Tr.a.USER_INFO:return e.setIn(["entities",r.uid],r.info);case Tr.a.ADD_USER_INFO:return e.setIn(["entities",r.uid],r.info).setIn(["entities",r.uid,"cacheUntil"],jr()).set("loaded",!0);case Tr.a.ADD_PLAIN_USER_INFO:return e.mergeIn(["entities",r.uid],Object(M.Map)(Fr({},r.info,{userId:r.uid}))).setIn(["entities",r.uid,"cacheUntil"],jr());case Tr.a.ADD_PROFILE_LIST_POST:return e.mergeDeepIn(["post",r.userId,"list"],r.postIds).set("loaded",!0);case Tr.a.ADD_PEOPLE_INFO:return e.mergeIn(["entities"],r);case Tr.a.ADD_USER_SEARCH:return qr(e,t);case Tr.a.ADD_FIND_PEOPLE:return e.mergeIn(["findPeople","list"],r.userIds);case Tr.a.UPDATE_USER_INFO:return e.mergeIn(["entities",r.uid],r.info);case Tr.a.CLEAR_ALL_DATA_USER:return Object(M.Map)(new Ur);case Tr.a.HAS_MORE_DATA_PROFILE:return e.setIn(["post",r.userId,"hasMoreData"],!0);case Tr.a.NOT_MORE_DATA_PROFILE:return e.setIn(["post",r.userId,"hasMoreData"],!1);case Tr.a.REQUEST_PAGE_PROFILE:return e.setIn(["post",r.userId,"lastPageRequest"],r.page);case Tr.a.LAST_POST_PROFILE:return e.setIn(["post",r.userId,"lastPostId"],r.lastPostId);case Tr.a.ADD_PROFILE_LIST_ALBUM:return e.mergeDeepIn(["album",r.userId,"list"],r.postIds).set("loaded",!0);case Tr.a.INCREASE_PAGE_ALBUM:return e.setIn(["album",r.userId,"lastPageRequest"],e.getIn(["album",r.userId,"lastPageRequest"],0)+1);case Tr.a.HAS_MORE_DATA_ALBUM:return e.setIn(["album",r.userId,"hasMoreData"],!0);case Tr.a.NOT_MORE_DATA_ALBUM:return e.setIn(["album",r.userId,"hasMoreData"],!1);case Tr.a.REQUEST_PAGE_ALBUM:return e.setIn(["album",r.userId,"lastPageRequest"],r.page);case Tr.a.LAST_POST_ALBUM:return e.setIn(["album",r.userId,"lastPostId"],r.lastPostId);case Tr.a.CLOSE_EDIT_PROFILE:return e.set("openEditProfile",!1);case Tr.a.OPEN_EDIT_PROFILE:return e.set("openEditProfile",!0);case Tr.a.HAS_MORE_PEOPLE_SEARCH:return e.setIn(["search","hasMoreData"],!0);case Tr.a.NOT_MORE_PEOPLE_SEARCH:return e.setIn(["search","hasMoreData"],!1);case Tr.a.HAS_MORE_FIND_PEOPLE:return e.setIn(["findPeople","hasMoreData"],!0);case Tr.a.NOT_MORE_FIND_PEOPLE:return e.setIn(["findPeople","hasMoreData"],!1);case Tr.a.SET_FIND_PEOPLE_PAGE:return e.setIn(["findPeople","page"],r.page);case Tr.a.INCREASE_FIND_PEOPLE_PAGE:return e.setIn(["findPeople","page"],e.getIn(["findPeople","page"],0)+1);case Tr.a.LAST_USER_PEOPLE:return e.setIn(["findPeople","lastUserId"],r.lastUserId);case Tr.a.INCREASE_FOLLOWING_COUNT_USER:return Hr(e,r,"followCount");case Tr.a.DECREASE_FOLLOWING_COUNT_USER:return Br(e,r,"followCount");case Tr.a.INCREASE_VOTE_COUNT_USER:return Hr(e,r,"voteCount");case Tr.a.DECREASE_VOTE_COUNT_USER:return Br(e,r,"voteCount");case Tr.a.INCREASE_POST_COUNT_USER:return Hr(e,r,"postCount");case Tr.a.DECREASE_POST_COUNT_USER:return Br(e,r,"postCount");case Tr.a.INCREASE_SHARE_COUNT_USER:return Hr(e,r,"shareCount");case Tr.a.DECREASE_SHARE_COUNT_USER:return Br(e,r,"shareCount");default:return e}},Hr=function(e,t,r){var n=e.getIn(["entities",t.userId,r],0)+1;return e.setIn(["entities",t.userId,r],n)},Br=function(e,t,r){var n=e.getIn(["entities",t.userId,r],0)-1;return e.setIn(["entities",t.userId,r],n)},Vr=r("qhvB"),Kr=function e(){Object(c.a)(this,e),this.postVotes=Object(M.Map)({}),this.loaded=!1},Yr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(M.Map)(new Kr),t=arguments.length>1?arguments[1]:void 0,r=t.payload;switch(t.type){case Vr.a.ADD_VOTE:return e.setIn(["postVotes",r.get("postId"),r.get("ownerUserId")],r);case Vr.a.ADD_VOTE_LIST:return e.set("postVotes",r).set("loaded",!0);case Vr.a.DELETE_VOTE:return e.deleteIn(["postVotes",r.postId,r.userId]);case Vr.a.CLEAR_ALL_DATA_VOTE:return Object(M.Map)(new Kr);default:return e}},Wr=r("OKjJ"),Qr=r("CsVq"),zr=function e(){Object(c.a)(this,e),this.request=Object(M.Map)({})},Jr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(M.Map)(new zr),t=arguments.length>1?arguments[1]:void 0,r=t.payload;switch(t.type){case Wr.a.ADD_REQUEST:return e.setIn(["request",r.request.get("id","no-id")],r.request);case Wr.a.DELETE_REQUEST:return e.deleteIn(["request",r.request.get("id","no-id")]);case Wr.a.ERROR_REQUEST:return e.setIn(["request",r.request.get("id","no-id"),"status"],Qr.a.Error);case Wr.a.OK_REQUEST:return e.setIn(["request",r.request.get("id","no-id"),"status"],Qr.a.OK);case Wr.a.CLEAR_ALL_DATA_REQUEST:return Object(M.Map)(new zr);default:return e}},Xr=r("uM50"),Zr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(M.Map)({}),t=arguments.length>1?arguments[1]:void 0,r=t.payload;switch(t.type){case Xr.a.SET_USER_SETTING:return e.set("entities",r);case Xr.a.UPDATE_USER_SETTING:return e.setIn(["entities",r.key],r.data);case Xr.a.CLEAR_ALL_USER_SETTING:return Object(M.Map)({});default:return e}},$r=r("yDjc");function en(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var tn=function(e,t){var r=t.userId;return e.setIn(["currentChat"],r).set("chatOpen",!0)},rn=function(e,t){var r=Object(M.Map)({}),n=t.messages,a=t.roomId;return n&&n.length&&n.forEach((function(e){r=r.set(e.id,Object(M.Map)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?en(r,!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):en(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e)))})),e.mergeIn(["messages",a],r)},nn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(M.Map)({chatOpen:!1,recentChatOpen:!1}),t=arguments.length>1?arguments[1]:void 0,r=t.payload;switch(t.type){case $r.a.ADD_CHAT_ROOM_MESSAGES:var n=r.messages,a=r.chatRoomId;return e.mergeIn(["messages",a],n);case $r.a.ADD_PLAIN_CHAT_ROOM_MESSAGES:return rn(e,r);case $r.a.REMOVE_CHAT_HISTORY:var s=r.roomId;return e.removeIn(["messages",s]);case $r.a.OPEN_CHAT:return e.set("chatOpen",!0);case $r.a.CLOSE_CHAT:return e.set("chatOpen",!1);case $r.a.OPEN_RECENT_CHAT:return e.set("recentChatOpen",!0);case $r.a.CLOSE_RECENT_CHAT:return e.set("recentChatOpen",!1);case $r.a.ADD_CHAT_REQUEST:return e.setIn(["requests",r.userId],!0);case $r.a.REMOVE_CHAT_REQUEST:return e.deleteIn(["requests",r.userId]);case $r.a.ADD_CHAT_CALLING:return e.setIn(["calling",r.userId],!0);case $r.a.REMOVE_CHAT_CALLING:return e.deleteIn(["calling",r.userId]);case $r.a.ADD_CHAT_CONNECT:return e.setIn(["connect",r.userId],Object(M.Map)(r.room));case $r.a.REMOVE_CHAT_CONNECT:return e.deleteIn(["connect",r.userId]);case $r.a.SET_CURRENT_CHAT:return tn(e,r);case $r.a.CLEAR_ALL_CHAT_MESSAGE:return Object(M.Map)({});default:return e}},an=function(){return Object(er.combineReducers)({imageGallery:_r,post:Cr.a,circle:cr,comment:fr,vote:Yr,server:Jr,authorize:tr.a,user:Gr,notify:Ar,global:br,userSetting:Zr,chat:nn})},sn=function(e){return{done:!0,value:e}},cn={};function on(e){return ce(e)?"channel":oe(e)?String(e):ee(e)?e.name:String(e)}function un(e,t,r){var n,a,s,c=t;function o(t,r){if(c===cn)return sn(t);if(r&&!a)throw c=cn,r;n&&n(t);var o=r?e[a](r):e[c]();return c=o.nextState,s=o.effect,n=o.stateUpdater,a=o.errorState,c===cn?sn(t):s}return be(o,(function(e){return o(null,e)}),r)}function fn(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];var s,c={done:!1,value:$e(e)},o=function(e){return s=e};return un({q1:function(){return{nextState:"q2",effect:c,stateUpdater:o}},q2:function(){return{nextState:"q1",effect:(e=s,{done:!1,value:at.apply(void 0,[t].concat(n,[e]))})};var e}},"q1","takeEvery("+on(e)+", "+t.name+")")}function dn(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];var s,c,o={done:!1,value:$e(e)},u=function(e){return{done:!1,value:at.apply(void 0,[t].concat(n,[e]))}},i=function(e){return{done:!1,value:(t=e,void 0===t&&(t=Y),Ze(Ke,t))};var t},f=function(e){return s=e},d=function(e){return c=e};return un({q1:function(){return{nextState:"q2",effect:o,stateUpdater:d}},q2:function(){return s?{nextState:"q3",effect:i(s)}:{nextState:"q1",effect:u(c),stateUpdater:f}},q3:function(){return{nextState:"q1",effect:u(c),stateUpdater:f}}},"q1","takeLatest("+on(e)+", "+t.name+")")}function ln(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];return at.apply(void 0,[fn,e,t].concat(n))}function pn(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];return at.apply(void 0,[dn,e,t].concat(n))}var hn,gn=r("0ymg"),vn=r("kCFj"),xn=function(e){function t(e,r){var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",d=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=!(arguments.length>7&&void 0!==arguments[7])||arguments[7],p=arguments.length>8&&void 0!==arguments[8]&&arguments[8];return Object(c.a)(this,t),(n=Object(u.a)(this,Object(i.a)(t).call(this))).uid=e,n.emailVerified=r,n.providerId=a,n.displayName=s,n.email=o,n.avatarURL=f,n.phoneVerified=d,n.authed=l,n.guest=p,n}return Object(f.a)(t,e),t}(vn.a),mn=r("jz8m"),bn=r("2RYz");!function(e){e[e.UserInformation=0]="UserInformation",e[e.VerifyCode=1]="VerifyCode",e[e.Message=2]="Message"}(hn||(hn={}));var En=r("RHXI"),On=r("UT3J"),_n=r("KvCd"),wn=r("hchq"),yn=a.a.mark(Rn),In=a.a.mark(Mn),Sn=a.a.mark(Ln),An=a.a.mark(jn),Cn=a.a.mark(Un),Tn=a.a.mark(Nn),kn=a.a.mark(Fn),Pn=a.a.mark(qn),Dn=p.a.get(mn.a.AuthorizeService);function Rn(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,et(En.login(new xn(e.uid,e.emailVerified,e.providerId,e.displayName,e.email,e.avatar,e.phoneVerified)));case 2:case"end":return t.stop()}}),yn)}function Mn(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt(Dn.logout);case 2:return e.next=4,et(En.logout());case 4:return e.next=6,et(On.clearLoadedData());case 6:case"end":return e.stop()}}),In)}function Ln(e){var t,r,n,s,c;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,r=t.user,n=t.captchaVerifier,s=bn.a.createSignupRequest(r.email),a.next=4,et(_n.sendRequest(s));case 4:return a.prev=4,a.next=7,nt(Dn.getUserRegisterToken,r,n);case 7:return c=a.sent,s.status=Qr.a.OK,a.next=11,et(_n.sendRequest(s));case 11:return a.next=13,et(En.setUserRegisterToken(c));case 13:return a.next=15,et(En.setSignupStep(hn.VerifyCode));case 15:a.next=24;break;case 17:return a.prev=17,a.t0=a.catch(4),s.status=Qr.a.Error,a.next=22,et(_n.sendRequest(s));case 22:return a.next=24,et(On.showMessage(a.t0.message));case 24:case"end":return a.stop()}}),Sn,null,[[4,17]])}function jn(e){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,nt(Dn.getAccessToken);case 3:return t=e.sent,e.next=6,et(En.setAccessToken(t));case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,et(On.showMessage(e.t0.message));case 12:case"end":return e.stop()}}),An,null,[[0,8]])}function Un(e){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et(En.setUserLoginStatus(Dn.isLoggedin()));case 2:case"end":return e.stop()}}),Cn)}function Nn(e){var t,r,n,s;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload.code,r=bn.a.createSignupRequest(t),a.next=4,et(_n.sendRequest(r));case 4:return a.prev=4,a.next=7,st(tr.b.getUserRegisterToken);case 7:return n=a.sent,a.next=10,nt(Dn.verifyUserRegisterCode,t,n);case 10:return s=a.sent,console.trace("ressponse/verifyUserRegisterCode",s),r.status=Qr.a.OK,a.next=15,et(_n.sendRequest(r));case 15:return a.next=17,nt(Dn.loginByToken,s.token);case 17:a.next=26;break;case 19:return a.prev=19,a.t0=a.catch(4),r.status=Qr.a.Error,a.next=24,et(_n.sendRequest(r));case 24:return a.next=26,et(On.showMessage(a.t0.message));case 26:case"end":return a.stop()}}),Tn,null,[[4,19]])}function Fn(){var e,t,r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e=Dn.getUserAuth())){n.next=12;break}return t=e.claim,n.next=5,nt(Rn,t);case 5:return r=Object(M.Map)({avatar:t.avatar,fullName:t.displayName,uid:t.uid,email:t.email}),n.next=8,et(wn.g.addUserInfo(t.uid,r));case 8:return n.next=10,et(On.loadInitialData());case 10:n.next=14;break;case 12:return n.next=14,nt(Mn);case 14:return n.next=16,et(On.defaultDataEnable());case 16:case"end":return n.stop()}}),kn)}function qn(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt([pn(gn.a.ASYNC_SET_LOGIN,Un),pn(gn.a.SUBSCRIBE_AUTH_STATE_CHANGE,Fn),pn(gn.a.ASYNC_FETCH_USER_REGISTER_TOKEN,Ln),pn(gn.a.ASYNC_FETCH_ACCESS_TOKEN,jn),pn(gn.a.ASYNC_VERITY_USER_REGISTER_CODE,Nn)]);case 2:case"end":return e.stop()}}),Pn)}var Gn,Hn=function e(t,r,n,a){var s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=arguments.length>5?arguments[5]:void 0,u=arguments.length>6?arguments[6]:void 0,i=arguments.length>7?arguments[7]:void 0,f=arguments.length>8?arguments[8]:void 0;Object(c.a)(this,e),this.id=t,this.type=r,this.connections=n,this.name=a,this.isPublic=s,this.lastMessage=o,this.speech=u,this.userStatus=i,this.translation=f};!function(e){e.Peer="Peer",e.Multiple="Multiple"}(Gn||(Gn={}));var Bn=r("t6sR"),Vn=r("1+IY"),Kn=r("LeJ0");function Yn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Wn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yn(r,!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yn(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Qn=a.a.mark(ha),zn=a.a.mark(va),Jn=a.a.mark(xa),Xn=a.a.mark(ma),Zn=a.a.mark(ba),$n=a.a.mark(Ea),ea=a.a.mark(Oa),ta=a.a.mark(_a),ra=a.a.mark(wa),na=a.a.mark(ya),aa=a.a.mark(Ia),sa=a.a.mark(Sa),ca=a.a.mark(Aa),oa=a.a.mark(Ca),ua=a.a.mark(Ta),ia=a.a.mark(ka),fa=a.a.mark(Pa),da=p.a.get(mn.a.ChatService),la=p.a.get(mn.a.AuthorizeService);function pa(e,t,r){return St((function(n){var a=da.wsConnect(e,t,r,(function(e){n(e)}));return function(){a()}}))}function ha(e){var t,r,n,s,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st(Vn.a.getAuthedUser);case 2:return t=e.sent,r=t.get("uid"),e.next=6,st(Vn.a.getAccessToken);case 6:if(""!==(n=e.sent)){e.next=11;break}return e.next=10,nt(la.getAccessToken);case 10:n=e.sent;case 11:return e.next=13,et(On.showMessage("Connecting..."));case 13:return e.next=15,nt(pa,Kn.a.websocket.url,n,r);case 15:s=e.sent,e.prev=16;case 17:return e.next=20,$e(s);case 20:if(!(c=e.sent)){e.next=36;break}e.t0=c.signal,e.next="status"===e.t0?25:"dispatch"===e.t0?28:31;break;case 25:return e.next=27,et(On.showMessage(c.data));case 27:return e.abrupt("break",34);case 28:return e.next=30,et(c.data);case 30:return e.abrupt("break",34);case 31:return e.next=33,et(On.showMessage("Unknown SIGNAL."));case 33:return e.abrupt("break",34);case 34:e.next=38;break;case 36:return e.next=38,et(On.showMessage("Channel received undefied message from WS!"));case 38:e.next=17;break;case 40:return e.prev=40,e.next=43,ct();case 43:if(!e.sent){e.next=45;break}s.close();case 45:return e.finish(40);case 46:case"end":return e.stop()}}),Qn,null,[[16,,40,46]])}function ga(e){return St((function(t){var r=da.subscribeChatMessages(e,(function(e){t(e)}));return function(){r()}}))}function va(e){var t,r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,nt(ga,e);case 2:t=n.sent,n.prev=3;case 4:return n.next=7,$e(t);case 7:if(!(r=n.sent)){n.next=11;break}return n.next=11,et(Bn.addChatRoomMessages(r,e));case 11:n.next=4;break;case 13:return n.prev=13,n.next=16,ct();case 16:if(!n.sent){n.next=18;break}t.close();case 18:return n.finish(13);case 19:case"end":return n.stop()}}),zn,null,[[3,,13,19]])}function xa(e){var t;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,nt(da.getChatMessages,e);case 3:if(!(t=r.sent)){r.next=7;break}return r.next=7,et(Bn.addChatRoomMessages(t,e));case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(0),r.next=13,et(On.showMessage(r.t0.message));case 13:case"end":return r.stop()}}),Jn,null,[[0,9]])}function ma(e){var t,r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,st(Vn.a.getAuthedUser);case 2:if(t=n.sent,!t.get("uid")){n.next=17;break}return r=e.payload,n.prev=6,n.next=9,at(da.createChatMessage,r);case 9:return n.next=11,et(Bn.addChatRoomMessages(Object(M.Map)(Object(s.a)({},r.id,Object(M.Map)(Wn({},r,{loading:!0})))),r.chatRoomId));case 11:n.next=17;break;case 13:return n.prev=13,n.t0=n.catch(6),n.next=17,et(On.showMessage("chatSaga/dbCreateChatMessage : "+n.t0.message));case 17:case"end":return n.stop()}}),Xn,null,[[6,13]])}function ba(e,t,r,n){return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,nt(da.setChatLangauge,e,t,r,n);case 3:return a.next=5,et(Bn.setCurrentChat("room"));case 5:a.next=11;break;case 7:return a.prev=7,a.t0=a.catch(0),a.next=11,et(On.showMessage("chatSaga/dbGetPeerChatRoom : "+a.t0.message));case 11:case"end":return a.stop()}}),Zn,null,[[0,7]])}function Ea(e){var t,r,n,c,o,u;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,st(Vn.a.getAuthedUser);case 2:if(t=a.sent,!(r=t.get("uid"))){a.next=35;break}return a.prev=5,a.next=8,nt(da.getPeerChatRoom,r,e);case 8:if(!(n=a.sent)){a.next=14;break}return a.next=12,et(Bn.setCurrentChat("chatRoom"));case 12:a.next=24;break;case 14:return(o=new Hn("0",Gn.Peer,(c={},Object(s.a)(c,r,!0),Object(s.a)(c,e,!0),c),r,!1)).lastMessage||delete o.lastMessage,o.speech||delete o.speech,o.translation||delete o.translation,o.userStatus||delete o.userStatus,a.next=21,nt(da.createChatRoom,o);case 21:return n=a.sent,a.next=24,et(Bn.setCurrentChat("chatRoom"));case 24:return u=n.get("id"),a.next=27,nt(xa,u);case 27:return a.next=29,nt(va,u);case 29:a.next=35;break;case 31:return a.prev=31,a.t0=a.catch(5),a.next=35,et(On.showMessage("chatSaga/activePeerChatRoom : "+a.t0.message));case 35:case"end":return a.stop()}}),$n,null,[[5,31]])}function Oa(e){var t,r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload.roomId,n.next=3,st(Vn.a.getAuthedUser);case 3:if(r=n.sent,!r.get("uid")){n.next=17;break}return n.prev=6,n.next=9,nt(da.removeHistoryRoom,t);case 9:return n.next=11,et(Bn.removeChatHistory(t));case 11:n.next=17;break;case 13:return n.prev=13,n.t0=n.catch(6),n.next=17,et(On.showMessage(n.t0.message));case 17:case"end":return n.stop()}}),ea,null,[[6,13]])}function _a(e){var t,r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload.receiverId,n.next=3,st(Vn.a.getAuthedUser);case 3:if(r=n.sent,!r.get("uid")){n.next=15;break}return n.prev=6,n.next=9,nt(Ea,t);case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(6),n.next=15,et(On.showMessage(n.t0.message));case 15:case"end":return n.stop()}}),ta,null,[[6,11]])}function wa(e){var t,r,n;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload.receiverId,a.next=3,st(Vn.a.getAuthedUser);case 3:if(r=a.sent,!(n=r.get("uid"))){a.next=15;break}return a.prev=6,a.next=9,nt(va,n,t);case 9:a.next=15;break;case 11:return a.prev=11,a.t0=a.catch(6),a.next=15,et(On.showMessage(a.t0.message));case 15:case"end":return a.stop()}}),ra,null,[[6,11]])}function ya(e){var t,r,n,s,c,o;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,r=t.input,n=t.output,s=t.roomId,a.next=3,st(Vn.a.getAuthedUser);case 3:if(c=a.sent,!(o=c.get("uid"))){a.next=15;break}return a.prev=6,a.next=9,nt(ba,o,r,n,s);case 9:a.next=15;break;case 11:return a.prev=11,a.t0=a.catch(6),a.next=15,et(On.showMessage(a.t0.message));case 15:case"end":return a.stop()}}),na,null,[[6,11]])}function Ia(e){var t,r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload.recUserId,n.next=3,st(Vn.a.getAuthedUser);case 3:if(r=n.sent,!r.get("uid")){n.next=15;break}return n.prev=6,n.next=9,nt(da.createChatRquest,t);case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(6),n.next=15,et(On.showMessage(n.t0.message));case 15:case"end":return n.stop()}}),aa,null,[[6,11]])}function Sa(e){var t,r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload.recUserId,n.next=3,st(Vn.a.getAuthedUser);case 3:if(r=n.sent,!r.get("uid")){n.next=15;break}return n.prev=6,n.next=9,nt(da.cancelChatRquest,t);case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(6),n.next=15,et(On.showMessage(n.t0.message));case 15:case"end":return n.stop()}}),sa,null,[[6,11]])}function Aa(e){var t,r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload.reqUserId,n.next=3,st(Vn.a.getAuthedUser);case 3:if(r=n.sent,!r.get("uid")){n.next=15;break}return n.prev=6,n.next=9,nt(da.ignoreChatRquest,t);case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(6),n.next=15,et(On.showMessage(n.t0.message));case 15:case"end":return n.stop()}}),ca,null,[[6,11]])}function Ca(e){var t,r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload.reqUserId,n.next=3,st(Vn.a.getAuthedUser);case 3:if(r=n.sent,!r.get("uid")){n.next=15;break}return n.prev=6,n.next=9,nt(da.acceptChatRquest,t);case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(6),n.next=15,et(On.showMessage(n.t0.message));case 15:case"end":return n.stop()}}),oa,null,[[6,11]])}function Ta(e){var t,r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload.roomId,n.next=3,st(Vn.a.getAuthedUser);case 3:if(r=n.sent,!r.get("uid")){n.next=15;break}return n.prev=6,n.next=9,nt(da.joinChatRoom,t);case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(6),n.next=15,et(On.showMessage(n.t0.message));case 15:case"end":return n.stop()}}),ua,null,[[6,11]])}function ka(e){var t;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.payload.roomId,r.next=3,st(Vn.a.getAuthedUser);case 3:if(t=r.sent,!t.get("uid")){r.next=8;break}return r.next=8,et(On.showMessage("User is offline!"));case 8:case"end":return r.stop()}}),ia)}function Pa(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt([pn($r.a.DB_CREATE_CHAT_MESSAGE,ma),pn($r.a.DB_SUBSCRIBE_CHAT_MESSAGE,wa),pn($r.a.ACTIVE_PEER_CHAT_ROOM,_a),pn($r.a.WS_CONNECT,ha),pn($r.a.ASYNC_CREATE_CHAT_REQUEST,Ia),pn($r.a.ASYNC_CANCEL_CHAT_REQUEST,Sa),pn($r.a.ASYNC_IGNORE_CHAT_REQUEST,Aa),pn($r.a.ASYNC_ACCEPT_CHAT_REQUEST,Ca),pn($r.a.ASYNC_JOIN_CHAT_ROOM,Ta),pn($r.a.SET_USER_OFFLINE,ka),pn($r.a.DB_REMOVE_CHAT_HISTORY,Oa),pn($r.a.DB_SET_CHAT_LANGUAGE,ya)]);case 2:case"end":return e.stop()}}),fa)}var Da=r("AbrU"),Ra=r("2yER"),Ma=a.a.mark(qa),La=a.a.mark(Ga),ja=a.a.mark(Ha),Ua=a.a.mark(Ba),Na=p.a.get(mn.a.CircleService),Fa=p.a.get(mn.a.UserTieService);function qa(e){var t,r,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st(tr.b.getAuthedUser);case 2:if(t=e.sent,!(r=t.get("uid"))){e.next=17;break}return e.prev=5,e.next=8,nt(Na.getCircles,r);case 8:return n=e.sent,e.next=11,et(Da.a(n));case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(5),e.next=17,et(On.showMessage(e.t0.message));case 17:case"end":return e.stop()}}),Ma,null,[[5,13]])}function Ga(e){var t,r,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st(tr.b.getAuthedUser);case 2:if(t=e.sent,!(r=t.get("uid"))){e.next=19;break}return e.prev=5,e.next=8,nt(Fa.getUserTies,r);case 8:return n=e.sent,e.next=11,et(Ra.addPeopleInfo(n));case 11:return e.next=13,et(Da.c(n));case 13:e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(5),e.next=19,et(On.showMessage(e.t0.message));case 19:case"end":return e.stop()}}),La,null,[[5,15]])}function Ha(e){var t,r,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st(tr.b.getAuthedUser);case 2:if(t=e.sent,!(r=t.get("uid"))){e.next=19;break}return e.prev=5,e.next=8,nt(Fa.getUserTieSender,r);case 8:return n=e.sent,e.next=11,et(Ra.addPeopleInfo(n));case 11:return e.next=13,et(Da.b(n));case 13:e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(5),e.next=19,et(On.showMessage(e.t0.message));case 19:case"end":return e.stop()}}),ja,null,[[5,15]])}function Ba(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt([pn(rr.a.DB_FETCH_CIRCLES,qa),pn(rr.a.DB_FETCH_USER_TIES,Ga),pn(rr.a.DB_FETCH_USER_TIEDS,Ha)]);case 2:case"end":return e.stop()}}),Ua)}var Va=r("qu18"),Ka=r("Ysgo"),Ya=r("ABrc"),Wa=r("LvDl"),Qa={createGetCommentsRequest:function(e){var t=Va.a.createServerRequestId(Ka.a.CommentGetComments,e);return new Ya.a(Ka.a.CommentGetComments,t,"",Qr.a.Sent)},sortCommentsByDate:function(e){return Object.keys(e).length>1?Wa.fromPairs(Wa.toPairs(e).sort((function(e,t){return parseInt(t[1].creationDate,10)-parseInt(e[1].creationDate,10)})).slice(0,3)):e}},za=r("5iSx"),Ja=a.a.mark(rs),Xa=a.a.mark(ns),Za=a.a.mark(as),$a=a.a.mark(ss),es=a.a.mark(cs),ts=p.a.get(mn.a.CommentService);function rs(e){var t,r,n,s,c,o;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,r=t.postId,n=t.page,s=t.limit,c=Qa.createGetCommentsRequest(r),a.next=5,et(wn.f.sendRequest(c));case 5:return a.prev=5,a.next=8,nt(ts.getComments,r,n,s);case 8:if((o=a.sent).hasMore){a.next=12;break}return a.next=12,et(wn.c.notMoreComments(r));case 12:return a.next=14,et(wn.c.addCommentList(r,o.comments));case 14:return c.status=Qr.a.OK,a.next=17,et(wn.f.sendRequest(c));case 17:a.next=24;break;case 19:return a.prev=19,a.t0=a.catch(5),c.status=Qr.a.Error,a.next=24,et(wn.f.sendRequest(c));case 24:case"end":return a.stop()}}),Ja,null,[[5,19]])}function ns(e){var t,r,n,s,c,o,u,i,f,d,l;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,r=t.newComment,n=r.get("postId"),a.next=5,et(wn.d.showTopLoading());case 5:return a.next=7,st(Vn.a.getAuthedUser);case 7:return s=a.sent,s.get("uid","0"),a.next=11,st(za.a.getPost,{postId:n});case 11:return c=a.sent,a.prev=12,a.next=15,nt(ts.addComment,r.toJS());case 15:return o=a.sent,u=r.set("id",o),a.next=19,et(wn.c.addComment(u));case 19:return i=Number(c.get("commentCounter",0))+1,f=c.set("commentCounter",i),a.next=23,et(wn.e.updatePostComments(f));case 23:return a.next=25,et(wn.d.hideTopLoading());case 25:a.next=37;break;case 27:return a.prev=27,a.t0=a.catch(12),d=Number(c.get("commentCounter",0))-1,l=c.set("commentCounter",d),a.next=33,et(wn.e.updatePostComments(l));case 33:return a.next=35,et(wn.d.showMessage(a.t0.message));case 35:return a.next=37,et(wn.d.hideTopLoading());case 37:case"end":return a.stop()}}),Xa,null,[[12,27]])}function as(e){var t,r,n;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,r=t.comment,a.next=4,et(wn.d.showTopLoading());case 4:return a.next=6,st(Vn.a.getAuthedUser);case 6:return n=a.sent,n.get("uid","0"),a.prev=8,a.next=11,nt(ts.updateComment,r.toJS());case 11:return a.next=13,et(wn.c.updateComment(r));case 13:return a.next=15,et(wn.c.closeCommentEditor(r.get("postId"),r.get("id")));case 15:return a.next=17,et(wn.d.hideTopLoading());case 17:a.next=25;break;case 19:return a.prev=19,a.t0=a.catch(8),a.next=23,et(wn.d.showMessage(a.t0.message));case 23:return a.next=25,et(wn.d.hideTopLoading());case 25:case"end":return a.stop()}}),Za,null,[[8,19]])}function ss(e){var t,r,n,s,c,o,u,i,f;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,r=t.id,n=t.postId,a.next=4,et(wn.d.showTopLoading());case 4:return a.next=6,st(Vn.a.getAuthedUser);case 6:return s=a.sent,s.get("uid","0"),a.next=10,st(za.a.getPost,{postId:n});case 10:return c=a.sent,a.prev=11,a.next=14,nt(ts.deleteComment,r,n);case 14:return a.next=16,et(wn.c.deleteComment(r,n));case 16:return o=Number(c.get("commentCounter",0))-1,u=c.set("commentCounter",o),a.next=20,et(wn.e.updatePostComments(u));case 20:return a.next=22,et(wn.d.hideTopLoading());case 22:a.next=34;break;case 24:return a.prev=24,a.t0=a.catch(11),i=Number(c.get("commentCounter",0))+1,f=c.set("commentCounter",i),a.next=30,et(wn.e.updatePostComments(f));case 30:return a.next=32,et(wn.d.showMessage(a.t0.message));case 32:return a.next=34,et(wn.d.hideTopLoading());case 34:case"end":return a.stop()}}),$a,null,[[11,24]])}function cs(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt([ln(ur.a.DB_FETCH_COMMENTS,rs),ln(ur.a.ASYNC_ADD_NEW_COMMENT,ns),ln(ur.a.ASYNC_UPDATE_COMMENT,as),ln(ur.a.ASYNC_DELETE_COMMENT,ss)]);case 2:case"end":return e.stop()}}),es)}var os=r("wd/R"),us=r.n(os),is=a.a.mark(gs),fs=a.a.mark(vs),ds=a.a.mark(xs);function ls(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ps(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ls(r,!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ls(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var hs=p.a.get(mn.a.VoteService);function gs(e){var t,r,n,s,c,o,u,i,f,d,l,p;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,r=t.ownerPostUserId,n=t.postId,a.next=4,et(wn.d.showTopLoading());case 4:return a.next=6,st(Vn.a.getAuthedUser);case 6:return s=a.sent,c=s.get("uid","0"),o={postId:n,creationDate:us.a.utc().valueOf(),ownerDisplayName:s.get("fullName"),ownerAvatar:s.get("avatar"),ownerUserId:c,receiverId:r},a.next=11,st(za.a.getPost,{postId:n});case 11:return u=a.sent,a.prev=12,i=Number(u.get("score",0))+1,f=u.set("score",i).setIn(["votes",c],!0),a.next=17,et(wn.e.updatePostVotes(f));case 17:return a.next=19,nt(hs.addVote,o);case 19:return d=a.sent,o.id=d,a.next=23,et(wn.h.addVote(Object(M.Map)(ps({},o))));case 23:return a.next=25,et(wn.d.hideTopLoading());case 25:a.next=38;break;case 27:return a.prev=27,a.t0=a.catch(12),console.trace("error",a.t0),l=u.get("score",0)-1,p=u.set("score",l).setIn(["votes",c],!1),a.next=34,et(wn.e.updatePostVotes(p));case 34:return a.next=36,et(wn.d.showMessage(a.t0.message));case 36:return a.next=38,et(wn.d.hideTopLoading());case 38:case"end":return a.stop()}}),is,null,[[12,27]])}function vs(e){var t,r,n,s,c,o,u,i,f,d;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,r=t.ownerPostUserId,n=t.postId,a.next=4,et(wn.d.showTopLoading());case 4:return a.next=6,st(Vn.a.getAuthedUser);case 6:return s=a.sent,c=s.get("uid","0"),a.next=10,st(za.a.getPost,{postId:n});case 10:return o=a.sent,a.prev=11,u=Number(o.get("score",0))-1,i=o.set("score",u).setIn(["votes",c],!1),a.next=16,et(wn.e.updatePostVotes(i));case 16:return a.next=18,nt(hs.deleteVote,r,n);case 18:return a.next=20,et(wn.h.deleteVote(r,n));case 20:return a.next=22,et(wn.d.hideTopLoading());case 22:a.next=34;break;case 24:return a.prev=24,a.t0=a.catch(11),f=o.get("score",0)+1,d=o.set("score",f).setIn(["votes",c],!0),a.next=30,et(wn.e.updatePostVotes(d));case 30:return a.next=32,et(wn.d.showMessage(a.t0.message));case 32:return a.next=34,et(wn.d.hideTopLoading());case 34:case"end":return a.stop()}}),fs,null,[[11,24]])}function xs(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt([pn(Vr.a.ASYNC_ADD_NEW_VOTE,gs),pn(Vr.a.ASYNC_DELETE_VOTE,vs)]);case 2:case"end":return e.stop()}}),ds)}var ms=r("ItIE"),bs=r("kZ9K"),Es=r("R/WL"),Os=r("zcGD"),_s=r("NOnW"),ws=r("7quc"),ys=a.a.mark(Ts),Is=a.a.mark(ks),Ss=a.a.mark(Ps),As=a.a.mark(Ds),Cs=p.a.get(mn.a.CommonService);function Ts(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et(bs.h());case 2:return e.next=4,et(Os.clearAllData());case 4:return e.next=6,et(Ra.clearAllData());case 6:return e.next=8,et(ms.clearAllData());case 8:return e.next=10,et(ws.clearAllvotes());case 10:return e.next=12,et(Es.b());case 12:return e.next=14,et(Da.d());case 14:return e.next=16,et(On.clearTemp());case 16:case"end":return e.stop()}}),ys)}function ks(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et(bs.n());case 2:return e.next=4,et(Ra.dbGetUserInfo());case 4:return e.next=6,et(Es.d());case 6:return e.next=8,et(Da.e());case 8:return e.next=10,et(Da.g());case 10:return e.next=12,et(Da.f());case 12:return e.next=14,et(_s.a());case 14:return e.next=16,et(wn.a.fetchAccessToken());case 16:return e.next=18,et(wn.b.wsConnect());case 18:case"end":return e.stop()}}),Is)}function Ps(e){var t,r,n;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,r=t.accessToken,a.prev=2,a.next=5,nt(Cs.getTwitterMedia,r);case 5:return n=a.sent,a.next=8,et(Os.addInstagramPosts(n));case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(2),a.next=14,et(On.showMessage(a.t0.message));case 14:case"end":return a.stop()}}),Ss,null,[[2,10]])}function Ds(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt([pn(dr.a.CLEAR_LOADED_DATA,Ts),pn(dr.a.LOAD_INITIAL_DATA,ks),pn(dr.a.LOAD_TWITTER_MEDIA,Ps)]);case 2:case"end":return e.stop()}}),As)}var Rs=r("dQH1"),Ms={createAlbumRequest:function(e){var t=Va.a.createServerRequestId(Ka.a.GalleryCreateAlbum,e);return new Rs.a(Ka.a.GalleryCreateAlbum,t,"",Qr.a.Sent)}},Ls=r("V7r5"),js=r("IKg/"),Us=r("A2E9"),Ns=(r("P5rp"),function e(){Object(c.a)(this,e),this.progress=void 0,this.success=void 0,this.error=void 0,this.fileName=void 0,this.meta=void 0}),Fs=r("csxf"),qs=r("EcEN"),Gs=r.n(qs);function Hs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Bs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hs(r,!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hs(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Vs=a.a.mark(gc),Ks=a.a.mark(vc),Ys=a.a.mark(xc),Ws=a.a.mark(mc),Qs=a.a.mark(bc),zs=a.a.mark(Ec),Js=a.a.mark(Oc),Xs=a.a.mark(_c),Zs=a.a.mark(wc),$s=a.a.mark(yc),ec=a.a.mark(Ic),tc=a.a.mark(Sc),rc=a.a.mark(Ac),nc=a.a.mark(Cc),ac=a.a.mark(Tc),sc=a.a.mark(kc),cc=a.a.mark(Pc),oc=a.a.mark(Dc),uc=a.a.mark(Rc),ic=a.a.mark(Mc),fc=a.a.mark(Lc),dc=a.a.mark(jc),lc=a.a.mark(Uc),pc=p.a.get(mn.a.ImageGalleryService);function hc(e,t,r){return St((function(n){var a=new Ns;return pc.uploadFile(r,e,t,(function(e,t,r){a.progress=e,a.fileName=r,n(a)}),(function(e,t){a.success=e,a.meta=t,n(a),n(wt)}),(function(e){a.error=e,n(a),n(wt)})),function(){}}))}function gc(e){var t,r,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st(tr.b.getAuthedUser);case 2:if(t=e.sent,!(r=t.get("uid"))){e.next=17;break}return e.prev=5,e.next=8,nt(pc.getGallery,r,Kn.a.data.imageFolderPath);case 8:return n=e.sent,e.next=11,et(bs.d(n));case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(5),e.next=17,et(On.showMessage(e.t0.message));case 17:case"end":return e.stop()}}),Vs,null,[[5,13]])}function vc(e){var t,r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,st(tr.b.getAuthedUser);case 2:if(t=n.sent,!(r=t.get("uid"))){n.next=16;break}return n.prev=5,n.next=8,nt(pc.deleteFile,r,e,Kn.a.data.videoFolderPath);case 8:return n.next=10,et(bs.v(e));case 10:n.next=16;break;case 12:return n.prev=12,n.t0=n.catch(5),n.next=16,et(On.showMessage(n.t0.message));case 16:case"end":return n.stop()}}),Ks,null,[[5,12]])}function xc(e,t,r){var n,s;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,st(tr.b.getAuthedUser);case 2:if(n=r.sent,!(s=n.get("uid"))){r.next=16;break}return r.prev=5,r.next=8,nt(pc.deleteFile,s,e,t);case 8:return r.next=10,et(bs.u(e));case 10:r.next=16;break;case 12:return r.prev=12,r.t0=r.catch(5),r.next=16,et(On.showMessage(r.t0.message));case 16:case"end":return r.stop()}}),Ys,null,[[5,12]])}function mc(e,t){var r,n,s,c;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,st(tr.b.getAuthedUser);case 2:if(r=a.sent,!(n=r.get("uid"))){a.next=12;break}return s=new js.a(Gs.a.v4(),0,us.a.utc().valueOf(),t,e,t,"",Kn.a.data.avatarFolderPath,t,n,0,"",0,0,"",!1,[],Ls.a.Public),a.next=8,nt(pc.saveFile,n,s,Kn.a.data.videoFolderPath);case 8:return c=a.sent,s.objectId=c,a.next=12,et(bs.e(s));case 12:case"end":return a.stop()}}),Ws)}function bc(e,t,r){var n,s,c,o,u,i,f,d,l;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,st(tr.b.getAuthedUser);case 2:if(n=a.sent,!(s=n.get("uid"))){a.next=37;break}return c="".concat(s,"/").concat(Kn.a.data.videoFolderPath),a.next=8,nt(hc,e,t,c);case 8:o=a.sent;case 9:return a.next=12,$e(o);case 12:if(u=a.sent,i=u.progress,f=void 0===i?0:i,d=u.success,!(l=u.error)){a.next=25;break}return a.next=20,et(On.showMessage(l.message));case 20:return a.next=22,et(On.progressChange(100,!1));case 22:return a.next=24,et(On.hideTopLoading());case 24:return a.abrupt("return");case 25:if(!d){a.next=33;break}return a.next=28,nt(mc,d.fileURL,r);case 28:return a.next=30,et(On.progressChange(100,!1));case 30:return a.next=32,et(On.hideTopLoading());case 32:return a.abrupt("return");case 33:return a.next=35,et(On.progressChange(f,!0));case 35:a.next=9;break;case 37:case"end":return a.stop()}}),Qs)}function Ec(e,t){var r,n,s,c,o,u,i,f,d;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,st(tr.b.getAuthedUser);case 2:if(r=a.sent,!(n=r.get("uid"))){a.next=35;break}return s="".concat(n,"/").concat(Kn.a.data.videoThumbnailPath),a.next=8,nt(hc,e,t,s);case 8:c=a.sent;case 9:return a.next=12,$e(c);case 12:if(o=a.sent,u=o.progress,i=void 0===u?0:u,f=o.success,!(d=o.error)){a.next=25;break}return a.next=20,et(On.showMessage(d.message));case 20:return a.next=22,et(On.progressChange(100,!1));case 22:return a.next=24,et(On.hideTopLoading());case 24:return a.abrupt("return");case 25:if(!f){a.next=31;break}return a.next=28,et(On.progressChange(100,!1));case 28:return a.next=30,et(On.hideTopLoading());case 30:return a.abrupt("return",f);case 31:return a.next=33,et(On.progressChange(i,!0));case 33:a.next=9;break;case 35:case"end":return a.stop()}}),zs)}function Oc(e){var t,r,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st(tr.b.getAuthedUser);case 2:if(t=e.sent,!(r=t.get("uid"))){e.next=17;break}return e.prev=5,e.next=8,nt(pc.getGallery,r,Kn.a.data.videoFolderPath);case 8:return n=e.sent,e.next=11,et(bs.f(n));case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(5),e.next=17,et(On.showMessage(e.t0.message));case 17:case"end":return e.stop()}}),Js,null,[[5,13]])}function _c(e,t,r){var n,s,c,o,u,i,f,d,l,p;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,st(tr.b.getAuthedUser);case 2:if(n=a.sent,!(s=n.get("uid"))){a.next=36;break}return c="".concat(s,"/").concat(t),a.next=8,nt(hc,e,r,c);case 8:o=a.sent;case 9:return a.next=12,$e(o);case 12:if(u=a.sent,i=u.progress,f=void 0===i?0:i,d=u.success,l=u.error,p=u.meta,!l){a.next=26;break}return a.next=21,et(On.showMessage(l.message));case 21:return a.next=23,et(On.progressChangeWithKey(100,!1,r));case 23:return a.next=25,et(On.hideTopLoading());case 25:return a.abrupt("return");case 26:if(!d){a.next=32;break}return a.next=29,et(On.progressChangeWithKey(100,!1,r,p));case 29:return a.next=31,et(On.hideTopLoading());case 31:return a.abrupt("return",d);case 32:return a.next=34,et(On.progressChangeWithKey(f,!0,r));case 34:a.next=9;break;case 36:case"end":return a.stop()}}),Xs)}function wc(e,t,r){var n,s,c,o,u=arguments;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=u.length>3&&void 0!==u[3]?u[3]:10,r.next=3,st(Fs.a.getAlbumLastImageId,{albumId:t});case 3:return s=r.sent,r.next=6,nt(pc.fetchAlbumImages,e,t,n,s);case 6:return c=r.sent,o=c.mappedImages.count(),r.next=10,et(bs.w(t,c.newLastImageId));case 10:if(o>n-1){r.next=13;break}return r.next=13,et(bs.g(t));case 13:if(!(o>0)){r.next=18;break}return r.next=16,et(bs.d(c.mappedImages));case 16:return r.next=18,et(bs.a(t,c.ids));case 18:case"end":return r.stop()}}),Zs)}function yc(e,t,r){var n,s=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.length>3&&void 0!==s[3]?s[3]:10,t.next=3,nt(pc.getGallery,e,Kn.a.data.avatarFolderPath);case 3:if(n=t.sent,!(n.mappedImages.count()>0)){t.next=11;break}return t.next=9,et(bs.d(n.mappedImages));case 9:return t.next=11,et(bs.b(e,n.ids));case 11:case"end":return t.stop()}}),$s)}function Ic(e,t,r){var n,s=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.length>3&&void 0!==s[3]?s[3]:10,t.next=3,nt(pc.getGallery,e,Kn.a.data.coverFolderPath);case 3:if(n=t.sent,!(n.mappedImages.count()>0)){t.next=11;break}return t.next=9,et(bs.d(n.mappedImages));case 9:return t.next=11,et(bs.c(e,n.ids));case 11:case"end":return t.stop()}}),ec)}function Sc(e,t,r){var n,c;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,nt(pc.setPhotoAlbum,e,Kn.a.data.imageFolderPath,t,r);case 2:return n=a.sent,a.next=5,et(On.closeDialog(Us.a.PostWrite));case 5:return a.next=7,et(bs.d(n.images));case 7:return a.next=9,et(Os.addPost(n.newAlbum));case 9:return a.next=11,et(wn.g.addProfileAlbums(e,Object(M.Map)(Object(s.a)({},n.newAlbum.get("id"),!0))));case 11:return a.next=13,et(bs.a(n.newAlbum.get("id"),n.imageIds));case 13:return a.next=15,et(Os.addStreamPosts(Object(M.Map)(Object(s.a)({},n.newAlbum.get("id"),!0))));case 15:return a.next=17,et(On.closeDialog(Us.a.Album));case 17:return(c=Ms.createAlbumRequest(e)).status=Qr.a.OK,a.next=21,et(_n.sendRequest(c));case 21:case"end":return a.stop()}}),tc)}function Ac(e){var t,r,n,s,c,o;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,r=t.file,n=t.fileName,s=t.thumbnail,"thumbnail_",c="thumbnail_"+n,a.next=5,nt(Ec,s,c);case 5:return o=a.sent,a.next=8,nt(bc,r,n,o.fileURL);case 8:case"end":return a.stop()}}),rc)}function Cc(e){var t,r,n,s;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,r=t.userId,n=t.albumId,a.next=3,st(Fs.a.getAlbumLastImageId,{albumId:n});case 3:return s=a.sent,a.next=6,nt(wc,r,n,s,10);case 6:case"end":return a.stop()}}),nc)}function Tc(e){var t;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload.userId,"",r.next=4,nt(yc,t,"avatar","",100);case 4:case"end":return r.stop()}}),ac)}function kc(e){var t;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload.userId,"",r.next=4,nt(Ic,t,"cover","",100);case 4:case"end":return r.stop()}}),sc)}function Pc(e){var t,r,n;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,r=t.file,n=t.fileName,a.next=3,nt(_c,r,Kn.a.data.imageFolderPath,n);case 3:case"end":return a.stop()}}),cc)}function Dc(e){var t,r,n,c,o,u,i,f,d,l,p;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,st(tr.b.getAuthedUser);case 2:return t=a.sent,r=t.get("uid"),n=e.payload,c=n.file,o=n.fileName,a.next=7,et(On.showTopLoading());case 7:return a.next=9,nt(_c,c,Kn.a.data.avatarFolderPath,o);case 9:return u=a.sent,a.next=12,et(On.hideTopLoading());case 12:return i=u.fileURL,f=o.split(".")[0],d=new js.a(f,0,us.a.utc().valueOf(),i,i,o,"",Kn.a.data.avatarFolderPath,o,r,0,"",0,0,"",!1,[],Ls.a.Public),a.next=17,nt(pc.saveFile,r,d,Kn.a.data.avatarFolderPath);case 17:return l=a.sent,d.objectId=l,p=Object(M.Map)(Object(s.a)({},f,Object(M.fromJS)(Bs({},d)))),a.next=22,et(bs.d(p));case 22:return a.next=24,et(bs.b(r,Object(M.Map)(Object(s.a)({},f,!0))));case 24:case"end":return a.stop()}}),oc)}function Rc(e){var t,r,n,c,o,u,i,f,d,l,p;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,st(tr.b.getAuthedUser);case 2:return t=a.sent,r=t.get("uid"),n=e.payload,c=n.file,o=n.fileName,a.next=7,et(On.showTopLoading());case 7:return a.next=9,nt(_c,c,Kn.a.data.coverFolderPath,o);case 9:return u=a.sent,a.next=12,et(On.hideTopLoading());case 12:return i=u.fileURL,f=o.split(".")[0],d=new js.a(f,0,us.a.utc().valueOf(),i,i,o,"",Kn.a.data.coverFolderPath,o,r,0,"",0,0,"",!1,[],Ls.a.Public),a.next=17,nt(pc.saveFile,r,d,Kn.a.data.coverFolderPath);case 17:return l=a.sent,d.objectId=l,p=Object(M.Map)(Object(s.a)({},f,Object(M.fromJS)(Bs({},d)))),a.next=22,et(bs.d(p));case 22:return a.next=24,et(bs.c(r,Object(M.Map)(Object(s.a)({},f,!0))));case 24:case"end":return a.stop()}}),uc)}function Mc(e){var t,r,n,s,c,o;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,r=t.albumPost,n=t.images,a.next=3,st(tr.b.getAuthedUser);case 3:if(s=a.sent,!(c=s.get("uid"))){a.next=22;break}return o=Ms.createAlbumRequest(c),a.next=9,et(_n.sendRequest(o));case 9:return a.prev=9,a.next=12,nt(Sc,c,r,n);case 12:a.next=22;break;case 14:return a.prev=14,a.t0=a.catch(9),o.status=Qr.a.Error,a.next=19,et(_n.sendRequest(o));case 19:return a.next=21,et(On.showMessage("gallerySaga/watchCreateAlbum  ".concat(a.t0)));case 21:console.trace("error",a.t0);case 22:case"end":return a.stop()}}),ic,null,[[9,14]])}function Lc(e){var t;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload.videoId,r.next=3,nt(vc,t);case 3:case"end":return r.stop()}}),fc)}function jc(e){var t,r,n,s;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,r=t.fileId,n=t.folderName,s=t.fileName,a.next=3,nt(xc,r,n,s);case 3:case"end":return a.stop()}}),dc)}function Uc(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt([pn(Er.a.DB_FETCH_IMAGE_GALLERY,gc),pn(Er.a.DB_FETCH_ALBUM_IMAGES,Cc),pn(Er.a.DB_FETCH_AVATAR_IMAGES,Tc),pn(Er.a.DB_FETCH_COVER_IMAGES,kc),pn(Er.a.DB_DELETE_IMAGE,jc),pn(Er.a.DB_UPLOAD_VIDEO,Ac),ln(Er.a.DB_UPLOAD_IMAGE,Pc),ln(Er.a.DB_UPLOAD_AVATAR,Dc),ln(Er.a.DB_UPLOAD_COVER,Rc),pn(Er.a.DB_CREATE_ALBUM,Mc),pn(Er.a.DB_FETCH_VIDEO_GALLERY,Oc),pn(Er.a.DB_DELETE_VIDEO,Lc)]);case 2:case"end":return e.stop()}}),lc)}var Nc=r("L3xr"),Fc=a.a.mark(Gc),qc=a.a.mark(Hc);function Gc(){var e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[{name:"English",code:Nc.a.English},{name:"French",code:Nc.a.French},{name:"Spanish",code:Nc.a.Spanish}],void(t.next=3);case 3:return t.abrupt("return",e);case 4:case"end":return t.stop()}}),Fc)}function Hc(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt([pn(dr.a.INIT_LOCALE,Gc)]);case 2:case"end":return e.stop()}}),qc)}var Bc=a.a.mark(Wc),Vc=a.a.mark(Qc),Kc=p.a.get(mn.a.NotificationService);function Yc(e){return St((function(t){var r=Kc.getNotifications(e,(function(e){t(e)}));return function(){r()}}))}function Wc(){var e,t,r,n;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,st(Vn.a.getAuthedUser);case 2:return e=a.sent,t=e.get("uid"),a.next=6,nt(Yc,t);case 6:r=a.sent,a.prev=7;case 8:return a.next=11,$e(r);case 11:return n=a.sent,a.next=14,et(Es.a(n));case 14:a.next=8;break;case 16:return a.prev=16,a.next=19,ct();case 19:if(!a.sent){a.next=21;break}r.close();case 21:return a.finish(16);case 22:case"end":return a.stop()}}),Bc,null,[[7,,16,22]])}function Qc(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt([pn(wr.a.DB_FETCH_NOTIFICATIONS,Wc)]);case 2:case"end":return e.stop()}}),Vc)}var zc=r("S3DE"),Jc=r("WlVk"),Xc=r("76d1"),Zc=r("BU0g"),$c=a.a.mark(lo),eo=a.a.mark(po),to=a.a.mark(ho),ro=a.a.mark(go),no=a.a.mark(vo),ao=a.a.mark(xo),so=a.a.mark(mo),co=a.a.mark(bo),oo=a.a.mark(Eo),uo=a.a.mark(Oo),io=a.a.mark(_o),fo=p.a.get(mn.a.PostService);function lo(e,t,r,n,s){var c,o,u,i,f;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,st(Xc.a.getFollowingUsers);case 2:return c=a.sent,(o=c.keySeq().map((function(e){return"".concat(e)})).toArray()).push("".concat(e)),a.next=7,nt(fo.searchPosts,"",o.join(),t,r,n,s);case 7:if((u=a.sent).hasMore){a.next=11;break}return a.next=11,et(Os.notMoreDataStream());case 11:return a.next=13,st(tr.b.getAuthedUser);case 13:return i=a.sent,(f=zc.a.createFetchStreamRequest(i.get("uid"))).status=Qr.a.OK,a.next=18,et(_n.sendRequest(f));case 18:return a.next=20,et(Os.lastPostStream(u.newLastPostId));case 20:return a.next=22,et(Os.addPosts(u.posts));case 22:return a.next=24,et(Os.addStreamPosts(u.ids));case 24:case"end":return a.stop()}}),$c)}function po(e,t,r,n,s,c){var o,u,i,f,d;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,st(Xc.a.getFollowingUsers);case 2:return o=a.sent,(u=o.keySeq().map((function(e){return"".concat(e)})).toArray()).push("".concat(t)),a.next=7,nt(fo.searchPosts,e,u.join(),r,n,s,c);case 7:if((i=a.sent).hasMore){a.next=11;break}return a.next=11,et(Os.notMorePostSearch());case 11:return a.next=13,st(tr.b.getAuthedUser);case 13:return f=a.sent,(d=zc.a.createSearchPostRequest(f.get("uid"))).status=Qr.a.OK,a.next=18,et(_n.sendRequest(d));case 18:return a.next=20,et(Os.lastPostSearch(i.newLastPostId));case 20:return a.next=22,et(Os.addPosts(i.posts));case 22:return a.next=24,et(Os.addSearchPosts(i.ids,0===n));case 24:case"end":return a.stop()}}),eo)}function ho(e,t,r,n,s){var c,o;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,nt(fo.getPostsByUserId,e,t,r,n,s);case 2:if((c=a.sent).hasMore){a.next=6;break}return a.next=6,et(Os.notMoreDataProfile(e));case 6:return(o=zc.a.createFetchPostUserRequest(e)).status=Qr.a.OK,a.next=10,et(_n.sendRequest(o));case 10:return a.next=12,et(Os.lastPostProfile(e,c.newLastPostId));case 12:return a.next=14,et(Os.addPosts(c.posts));case 14:return a.next=16,et(Ra.addProfilePosts(e,c.ids));case 16:case"end":return a.stop()}}),to)}function go(e,t,r,n,s){var c,o;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,nt(fo.getAlbumPosts,e,t,r,n,s);case 2:if((c=a.sent).hasMore){a.next=6;break}return a.next=6,et(Ra.notMoreDataAlbum(e));case 6:return(o=zc.a.createFetchAlbumRequest(e)).status=Qr.a.OK,a.next=10,et(_n.sendRequest(o));case 10:return a.next=12,et(Ra.lastPostAlbum(e,c.newLastPostId));case 12:return a.next=14,et(Os.addPosts(c.posts));case 14:return a.next=16,et(Ra.addProfileAlbums(e,c.ids));case 16:case"end":return a.stop()}}),ro)}function vo(){var e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,st(Cr.b.getSearchKey);case 2:if(e=t.sent){t.next=9;break}return t.next=6,nt(fo.getSearchKey);case 6:return e=t.sent,t.next=9,et(Os.setPostSearchKey(e));case 9:return t.abrupt("return",e);case 10:case"end":return t.stop()}}),no)}function xo(){var e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,nt(fo.getSearchKey);case 3:return e=t.sent,t.next=6,et(Os.setPostSearchKey(e));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,et(On.showMessage(t.t0.message));case 12:case"end":return t.stop()}}),ao,null,[[0,8]])}function mo(e){var t,r,n,s,c,o,u,i;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,st(tr.b.getAuthedUser);case 2:return t=a.sent,r=zc.a.createFetchStreamRequest(t.get("uid")),a.next=6,et(_n.sendRequest(r));case 6:return n=e.payload,s=n.page,c=n.limit,o=t.get("uid"),a.prev=9,a.next=12,vo();case 12:return u=a.sent,a.next=15,st(Cr.b.getStreamPage);case 15:return a.next=17,st(Cr.b.getStreamLastPostId);case 17:if(i=a.sent,!o){a.next=21;break}return a.next=21,nt(lo,o,i,s,c,u);case 21:a.next=29;break;case 23:return a.prev=23,a.t0=a.catch(9),a.next=27,et(On.showMessage(a.t0.message));case 27:return a.next=29,et(Os.notMoreDataStream());case 29:case"end":return a.stop()}}),so,null,[[9,23]])}function bo(e){var t,r,n,s,c,o,u,i,f;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,st(tr.b.getAuthedUser);case 2:return t=a.sent,r=zc.a.createSearchPostRequest(t.get("uid")),a.next=6,et(_n.sendRequest(r));case 6:return n=e.payload,s=n.query,c=n.page,o=n.limit,u=t.get("uid"),a.prev=9,a.next=12,vo();case 12:return i=a.sent,a.next=15,st(Cr.b.getSearchLastPostId);case 15:if(f=a.sent,!u){a.next=21;break}return a.next=19,et(On.showTopLoading());case 19:return a.next=21,nt(po,s,u,f,c,o,i);case 21:a.next=29;break;case 23:return a.prev=23,a.t0=a.catch(9),a.next=27,et(On.showMessage(a.t0.message));case 27:return a.next=29,et(Os.notMorePostSearch());case 29:return a.prev=29,a.next=32,et(On.hideTopLoading());case 32:return a.finish(29);case 33:case"end":return a.stop()}}),co,null,[[9,23,29,33]])}function Eo(e){var t,r,n,s,c,o,u,i;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,st(tr.b.getAuthedUser);case 2:return t=a.sent,r=zc.a.createFetchPostUserRequest(t.get("uid")),a.next=6,et(_n.sendRequest(r));case 6:return n=e.payload,s=n.page,c=n.limit,o=n.userId,a.prev=8,a.next=11,vo();case 11:return u=a.sent,a.next=14,st(Cr.b.getProfileLastPostRequest,{userId:o});case 14:return a.next=16,st(Cr.b.getProfileLatPostId,{userId:o});case 16:if(i=a.sent,!t.get("uid")){a.next=21;break}return a.next=21,nt(ho,o,i,s,c,u);case 21:a.next=27;break;case 23:return a.prev=23,a.t0=a.catch(8),a.next=27,et(On.showMessage(a.t0.message));case 27:case"end":return a.stop()}}),oo,null,[[8,23]])}function Oo(e){var t,r,n,s,c,o,u,i;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,st(tr.b.getAuthedUser);case 2:return t=a.sent,r=zc.a.createFetchAlbumRequest(t.get("uid")),a.next=6,et(_n.sendRequest(r));case 6:return n=e.payload,s=n.limit,c=n.userId,o=n.page,a.prev=8,a.next=11,vo();case 11:return u=a.sent,a.next=14,st(Zc.a.getAlbumLastPageRequest,{userId:c});case 14:return a.next=16,st(Zc.a.getAlbumLatPostId,{userId:c});case 16:if(i=a.sent,!t.get("uid")){a.next=21;break}return a.next=21,nt(go,c,i,o,s,u);case 21:a.next=27;break;case 23:return a.prev=23,a.t0=a.catch(8),a.next=27,et(On.showMessage(a.t0.message));case 27:case"end":return a.stop()}}),uo,null,[[8,23]])}function _o(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt([ln(Jc.a.DB_GET_POST,mo),ln(Jc.a.DB_SEARCH_POST,bo),ln(Jc.a.DB_GET_POST_BY_USER_ID,Eo),ln(Tr.a.DB_GET_ALBUM_POST_BY_USER_ID,Oo),pn(Jc.a.DB_GET_POST_SEARCH_KEY,xo)]);case 2:case"end":return e.stop()}}),io)}var wo={createUserSearchRequest:function(e){var t=Va.a.createServerRequestId(Ka.a.UserFetchRequest,e);return new Ya.a(Ka.a.UserFetchRequest,t,"",Qr.a.Sent)}},yo=r("xfNF"),Io=a.a.mark(jo),So=a.a.mark(Uo),Ao=a.a.mark(No),Co=a.a.mark(Fo),To=a.a.mark(qo),ko=a.a.mark(Go),Po=a.a.mark(Ho),Do=a.a.mark(Bo);function Ro(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Mo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ro(r,!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ro(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Lo=p.a.get(mn.a.UserService);function jo(e){var t,r,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st(tr.b.getAuthedUser);case 2:if(t=e.sent,!(r=t.get("uid"))){e.next=17;break}return e.prev=5,e.next=8,nt(Lo.getCurrentUserProfile);case 8:return n=e.sent,e.next=11,et(Ra.addUserInfo(r,Object(M.Map)(Mo({},n,{userId:r}))));case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(5),e.next=17,et(On.showMessage(e.t0.message));case 17:case"end":return e.stop()}}),Io,null,[[5,13]])}function Uo(e){var t,r,n,s,c;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.payload,r=t.uid,n=t.callerKey,!r){a.next=28;break}return a.next=4,st(yo.a.getCaller);case 4:if(s=a.sent,a.prev=5,!(s&&s.indexOf("dbGetUserInfoByUserId-".concat(r))>-1)){a.next=8;break}return a.abrupt("return",void 0);case 8:return a.next=10,et(On.temp({caller:"dbGetUserInfoByUserId-".concat(r)}));case 10:return a.next=12,nt(Lo.getUserProfile,r);case 12:return c=a.sent,a.next=15,et(Ra.addUserInfo(r,Object(M.Map)(Mo({},c,{userId:r}))));case 15:a.t0=n,a.next="header"===a.t0?18:21;break;case 18:return a.next=20,et(On.setHeaderTitle(c.fullName));case 20:case 21:return a.abrupt("break",22);case 22:a.next=28;break;case 24:return a.prev=24,a.t1=a.catch(5),a.next=28,et(On.showMessage(a.t1.message));case 28:case"end":return a.stop()}}),So,null,[[5,24]])}function No(e,t,r,n,s){var c,o,u,i;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,st(Xc.a.getFollowingUsers);case 2:return c=a.sent,c.keySeq().map((function(e){return"userId:".concat(e)})).toArray().push("userId:".concat(e)),a.next=7,et(On.showTopLoading());case 7:return a.prev=7,a.next=10,nt(Lo.searchUser,t,"NOT userId:".concat(e),r,n,s);case 10:if((o=a.sent).hasMore){a.next=14;break}return a.next=14,et(Ra.notMoreSearchPeople());case 14:return a.next=16,st(tr.b.getAuthedUser);case 16:return u=a.sent,(i=wo.createUserSearchRequest(u.get("uid"))).status=Qr.a.OK,a.next=21,et(_n.sendRequest(i));case 21:return a.next=23,et(Ra.addPeopleInfo(o.users));case 23:return a.next=25,et(Ra.addUserSearch(o.ids,0===r));case 25:a.next=33;break;case 27:return a.prev=27,a.t0=a.catch(7),a.next=31,et(On.showMessage(a.t0.message));case 31:return a.next=33,et(Ra.notMoreSearchPeople());case 33:return a.prev=33,a.next=36,et(On.hideTopLoading());case 36:return a.finish(33);case 37:case"end":return a.stop()}}),Ao,null,[[7,27,33,37]])}function Fo(e,t,r,n,s){var c,o,u,i;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,st(tr.b.getAuthedUser);case 2:return c=a.sent,o=c.get("uid"),a.next=6,nt(Lo.searchUser,t,e,r,n,s);case 6:if((u=a.sent).hasMore){a.next=10;break}return a.next=10,et(Ra.notMoreFindPeople());case 10:return(i=wo.createUserSearchRequest(o)).status=Qr.a.OK,a.next=14,et(_n.sendRequest(i));case 14:return a.next=16,et(Ra.addPeopleInfo(u.users));case 16:return a.next=18,et(Ra.addFindPeople(u.ids));case 18:case"end":return a.stop()}}),Co)}function qo(){var e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,st(Zc.a.getSearchKey);case 2:if(e=t.sent){t.next=9;break}return t.next=6,nt(Lo.getSearchKey);case 6:return e=t.sent,t.next=9,et(Ra.setPostSearchKey(e));case 9:return t.abrupt("return",e);case 10:case"end":return t.stop()}}),To)}function Go(e){var t,r,n,s,c,o,u;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,st(tr.b.getAuthedUser);case 2:return t=a.sent,r=wo.createUserSearchRequest(t.get("uid")),a.next=6,et(_n.sendRequest(r));case 6:return n=e.payload,s=n.page,c=n.limit,o=t.get("uid"),a.prev=9,a.next=12,qo();case 12:if(u=a.sent,!o){a.next=16;break}return a.next=16,nt(Fo,o,"",s,c,u);case 16:a.next=24;break;case 18:return a.prev=18,a.t0=a.catch(9),a.next=22,et(On.showMessage(a.t0.message));case 22:return a.next=24,et(Ra.notMoreFindPeople());case 24:case"end":return a.stop()}}),ko,null,[[9,18]])}function Ho(e){var t,r,n,s,c,o,u,i;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,st(tr.b.getAuthedUser);case 2:return t=a.sent,r=wo.createUserSearchRequest(t.get("uid")),a.next=6,et(_n.sendRequest(r));case 6:return n=e.payload,s=n.query,c=n.page,o=n.limit,u=t.get("uid"),a.prev=9,a.next=12,qo();case 12:if(i=a.sent,!u){a.next=16;break}return a.next=16,nt(No,u,s,c,o,i);case 16:a.next=24;break;case 18:return a.prev=18,a.t0=a.catch(9),a.next=22,et(On.showMessage(a.t0.message));case 22:return a.next=24,et(Ra.notMoreSearchPeople());case 24:case"end":return a.stop()}}),Po,null,[[9,18]])}function Bo(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt([ln(Tr.a.DB_FETCH_USER_SEARCH,Ho),ln(Tr.a.DB_FETCH_FIND_PEOPLE,Go),pn(Tr.a.DB_FETCH_USER_PROFILE,jo),pn(Tr.a.DB_FETCH_USER_PROFILE_BY_ID,Uo)]);case 2:case"end":return e.stop()}}),Do)}var Vo=function(e){function t(e,r,n,a){var s;return Object(c.a)(this,t),(s=Object(u.a)(this,Object(i.a)(t).call(this))).type=e,s.creationDate=r,s.ownerUserId=n,s.list=a,s}return Object(f.a)(t,e),t}(vn.a),Ko=a.a.mark(zo),Yo=a.a.mark(Jo),Wo=a.a.mark(Xo),Qo=p.a.get(mn.a.UserSettingService);function zo(e){var t,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st(Vn.a.getAuthedUser);case 2:if(t=e.sent,!t.get("uid")){e.next=17;break}return e.prev=5,e.next=8,nt(Qo.getUserSettings);case 8:return r=e.sent,e.next=11,et(_s.b(r));case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(5),e.next=17,et(On.showMessage(e.t0.message));case 17:case"end":return e.stop()}}),Ko,null,[[5,13]])}function Jo(e){var t,r,n,s;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,st(Vn.a.getAuthedUser);case 2:if(t=a.sent,!(r=t.get("uid"))){a.next=19;break}return n=e.payload,a.prev=6,s=new Vo(n.type,0,r,[]),n.setting.forEach((function(e){s.list.push(e.toJS())})),a.next=11,nt(Qo.updateUserSetting,s);case 11:return a.next=13,et(_s.c(n.type,n.setting));case 13:a.next=19;break;case 15:return a.prev=15,a.t0=a.catch(6),a.next=19,et(On.showMessage(a.t0.message));case 19:case"end":return a.stop()}}),Yo,null,[[6,15]])}function Xo(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt([pn(Xr.a.DB_FETCH_USER_SETTING,zo),pn(Xr.a.DB_UPDATE_USER_SETTING,Jo)]);case 2:case"end":return e.stop()}}),Wo)}var Zo=a.a.mark($o);function $o(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt([qn(),Hc(),cs(),xs(),Bo(),Ds(),_o(),Xo(),Uc(),Qc(),Ba(),Pa()]);case 2:case"end":return e.stop()}}),Zo)}var eu=function(e,t){Object(N.createLogger)({stateTransformer:function(e){return e.toJS()}});var r=Jt(),n=null;(n=window.localStorage.getItem("red-gold.scure.token"))&&j()(n).user_id;var a=Object(U.d)(an(),Object(M.fromJS)(e),Object(U.c)(Object(U.a)($t,r)));return r.run($o),a},tu=(r("Vl0y"),l.a.createElement);function ru(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ru(r,!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ru(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var au=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=document.querySelector("#jss-server-side");e&&e.parentElement.removeChild(e)}},{key:"render",value:function(){var e=this.props,t=e.Component,r=e.pageProps,n=e.store;return tu(l.a.Fragment,null,tu(x.a,null,tu("title",null,"My page"),tu("meta",{name:"viewport",content:"minimum-scale=1, initial-scale=1, width=device-width"})),tu(m.a,{theme:S},tu(_,null),tu(R.a,{store:n},tu(t,r))))}}],[{key:"getInitialProps",value:function(e){var t,r;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=e.Component,r=e.ctx,n.t0=nu,n.t1={},!t.getInitialProps){n.next=9;break}return n.next=6,a.a.awrap(t.getInitialProps(r));case 6:n.t2=n.sent,n.next=10;break;case 9:n.t2={};case 10:return n.t3=n.t2,n.t4=(0,n.t0)(n.t1,n.t3),n.abrupt("return",{pageProps:n.t4});case 13:case"end":return n.stop()}}))}}]),t}(g.a);t.default=function(e,t){var r=C(C({},D),t),n="undefined"===typeof window,a=function(a){var s=a.initialState,c=a.ctx,o=r.storeKey,u=function(){return e(r.deserializeState(s),C(C(C({},c),t),{isServer:n}))};return n?u():(o in window||(window[o]=u()),window[o])};return function(e){var t;return(t=function(t){function n(e,n){var s=t.call(this,e,n)||this,c=e.initialState;return r.debug&&console.log("4. WrappedApp.render created new store with initialState",c),s.store=a({ctx:n.ctx,initialState:c}),s}return A(n,t),n.prototype.render=function(){var t=this.props,r=t.initialProps,n=(t.initialState,P(t,["initialProps","initialState"]));return d.createElement(e,C({},n,r,{store:this.store}))},n}(d.Component)).displayName="withRedux("+(e.displayName||e.name||"App")+")",t.getInitialProps=function(t){return T(void 0,void 0,void 0,(function(){var s,c;return k(this,(function(o){switch(o.label){case 0:if(!t)throw new Error("No app context");if(!t.ctx)throw new Error("No page context");return s=a({ctx:t.ctx}),r.debug&&console.log("1. WrappedApp.getInitialProps wrapper got the store with state",s.getState()),t.ctx.store=s,t.ctx.isServer=n,c={},"getInitialProps"in e?[4,e.getInitialProps.call(e,t)]:[3,2];case 1:c=o.sent(),o.label=2;case 2:return r.debug&&console.log("3. WrappedApp.getInitialProps has store state",s.getState()),[2,{isServer:n,initialState:n?r.serializeState(s.getState()):s.getState(),initialProps:c}]}}))}))},t}}(eu)(Object(w.a)(au))},jtUC:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){if(void 0===e)throw new Error('Reducer "'+t+'" returned undefined when handling "'+r.type+'" action. To ignore an action, you must explicitly return the previous state.')},e.exports=t.default},lwAK:function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=n(r("q1tI"));t.AmpStateContext=a.createContext({})},"mU/f":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=r("Mpt7"),s=(n=a)&&n.__esModule?n:{default:n},c=r("xBx/");t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.default.Map,r=Object.keys(e);return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t(),a=arguments[1];return n.withMutations((function(t){r.forEach((function(r){var n=(0,e[r])(t.get(r),a);(0,c.validateNextState)(n,r,a),t.set(r,n)}))}))}},e.exports=t.default},mhMR:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e&&"@@redux/INIT"===e.type?"initialState argument passed to createStore":"previous state received by the reducer"},e.exports=t.default},"xBx/":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateNextState=t.getUnexpectedInvocationParameterMessage=t.getStateName=void 0;var n=c(r("mhMR")),a=c(r("Aso2")),s=c(r("jtUC"));function c(e){return e&&e.__esModule?e:{default:e}}t.getStateName=n.default,t.getUnexpectedInvocationParameterMessage=a.default,t.validateNextState=s.default}},[[1,0,2,6,1,3,5]]]);